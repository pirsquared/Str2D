<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>str2d &mdash; Str2D 0.2.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=31c25e22" />

  
    <link rel="shortcut icon" href="../_static/pirr_logo.svg"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=938c9ccc"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Str2D
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../_str2d/str2d.html">str2d module</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../motivation.html">Motivation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about.html">About</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Str2D</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Module code</a></li>
      <li class="breadcrumb-item active">str2d</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for str2d</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;Manipulate 2D strings in Python.&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">reduce</span><span class="p">,</span> <span class="n">cached_property</span><span class="p">,</span> <span class="n">lru_cache</span>
<span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>
<span class="kn">from</span> <span class="nn">enum</span> <span class="kn">import</span> <span class="n">Enum</span>
<span class="kn">from</span> <span class="nn">textwrap</span> <span class="kn">import</span> <span class="n">dedent</span>
<span class="kn">import</span> <span class="nn">uuid</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">,</span> <span class="n">Union</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Optional</span>
<span class="kn">from</span> <span class="nn">pandas</span> <span class="kn">import</span> <span class="n">DataFrame</span><span class="p">,</span> <span class="n">Series</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">HTML</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">mpmath</span> <span class="k">as</span> <span class="nn">mp</span>


<div class="viewcode-block" id="BoxParts">
<a class="viewcode-back" href="../_str2d/str2d.BoxParts.html#str2d.BoxParts">[docs]</a>
<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">BoxParts</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Organizes box drawing characters.  Provides attribute names that are short and</span>
<span class="sd">    descriptive. This makes it easier to work with box drawing characters in code.</span>

<span class="sd">    The tables below show the attribute names, examples, and descriptions of the parts.</span>

<span class="sd">    .. _box-parts-doc-table-1:</span>

<span class="sd">    +-------------+-----------+-------------------------------------------+</span>
<span class="sd">    | Attribute   | Example   | Description                               |</span>
<span class="sd">    | Name        | Value     |                                           |</span>
<span class="sd">    +====+===+====+===+===+===+==============+============+===============+</span>
<span class="sd">    | ul | t | ur | ┌ | ┬ | ┐ | | Upper-left | | Top T    | | Upper-right |</span>
<span class="sd">    |    |   |    |   |   |   | | corner     | | cross    | | corner      |</span>
<span class="sd">    +----+---+----+---+---+---+--------------+------------+---------------+</span>
<span class="sd">    | l  | c | r  | ├ | ┼ | ┤ | | Left T     | | Center   | | Right T     |</span>
<span class="sd">    |    |   |    |   |   |   | | cross      | | cross    | | cross       |</span>
<span class="sd">    +----+---+----+---+---+---+--------------+------------+---------------+</span>
<span class="sd">    | ll | b | lr | └ | ┴ | ┘ | | Lower-left | | Bottom T | | Lower-right |</span>
<span class="sd">    |    |   |    |   |   |   | | corner     | | cross    | | corner      |</span>
<span class="sd">    +----+---+----+---+---+---+--------------+------------+---------------+</span>


<span class="sd">    .. _box-parts-doc-table-2:</span>

<span class="sd">    +--------------------+----------+------------+</span>
<span class="sd">    | **Attribute Name** | v        | h          |</span>
<span class="sd">    +--------------------+----------+------------+</span>
<span class="sd">    | **Example Value**  | │        | ─          |</span>
<span class="sd">    +--------------------+----------+------------+</span>
<span class="sd">    | **Description**    | Vertical | Horizontal |</span>
<span class="sd">    +--------------------+----------+------------+</span>

<span class="sd">    You can pass any unicode characters to the BoxParts class and it will categorize</span>
<span class="sd">    them accordingly. But the expectation would be something like the example above.</span>

<span class="sd">    .. testcode::</span>

<span class="sd">        from str2d import BoxParts</span>

<span class="sd">        BoxParts(</span>
<span class="sd">            v=&#39;│&#39;, h=&#39;─&#39;, ul=&#39;┌&#39;, ur=&#39;┐&#39;, lr=&#39;┘&#39;, ll=&#39;└&#39;,</span>
<span class="sd">            l=&#39;├&#39;, r=&#39;┤&#39;, t=&#39;┬&#39;, b=&#39;┴&#39;, c=&#39;┼&#39;</span>
<span class="sd">        )</span>

<span class="sd">    .. testoutput::</span>

<span class="sd">        ┌─┬─┐</span>
<span class="sd">        │ │ │</span>
<span class="sd">        ├─┼─┤</span>
<span class="sd">        │ │ │</span>
<span class="sd">        └─┴─┘</span>

<span class="sd">    Or you can pass the any characters you want to the BoxParts class and it will</span>
<span class="sd">    categorize them accordingly.  In this example we use the unicode character for</span>
<span class="sd">    a full block to be all the box parts.</span>

<span class="sd">    .. testcode::</span>

<span class="sd">        BoxParts(*&quot;█&quot;*11)</span>

<span class="sd">    .. testoutput::</span>

<span class="sd">        █████</span>
<span class="sd">        █ █ █</span>
<span class="sd">        █████</span>
<span class="sd">        █ █ █</span>
<span class="sd">        █████</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">v</span><span class="p">:</span> <span class="nb">str</span>  <span class="c1"># Vertical line</span>
    <span class="n">h</span><span class="p">:</span> <span class="nb">str</span>  <span class="c1"># Horizontal line</span>
    <span class="n">ul</span><span class="p">:</span> <span class="nb">str</span>  <span class="c1"># Upper-left corner</span>
    <span class="n">ur</span><span class="p">:</span> <span class="nb">str</span>  <span class="c1"># Upper-right corner</span>
    <span class="n">lr</span><span class="p">:</span> <span class="nb">str</span>  <span class="c1"># Lower-right corner</span>
    <span class="n">ll</span><span class="p">:</span> <span class="nb">str</span>  <span class="c1"># Lower-left corner</span>
    <span class="n">l</span><span class="p">:</span> <span class="nb">str</span>  <span class="c1"># Left T (cross)</span>
    <span class="n">r</span><span class="p">:</span> <span class="nb">str</span>  <span class="c1"># Right T (cross)</span>
    <span class="n">t</span><span class="p">:</span> <span class="nb">str</span>  <span class="c1"># Top T (cross)</span>
    <span class="n">b</span><span class="p">:</span> <span class="nb">str</span>  <span class="c1"># Bottom T (cross)</span>
    <span class="n">c</span><span class="p">:</span> <span class="nb">str</span>  <span class="c1"># Center cross</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the box parts as a string to illustrate what the box looks like.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ul</span><span class="si">}{</span><span class="bp">self</span><span class="o">.</span><span class="n">h</span><span class="si">}{</span><span class="bp">self</span><span class="o">.</span><span class="n">t</span><span class="si">}{</span><span class="bp">self</span><span class="o">.</span><span class="n">h</span><span class="si">}{</span><span class="bp">self</span><span class="o">.</span><span class="n">ur</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">v</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">v</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">v</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">l</span><span class="si">}{</span><span class="bp">self</span><span class="o">.</span><span class="n">h</span><span class="si">}{</span><span class="bp">self</span><span class="o">.</span><span class="n">c</span><span class="si">}{</span><span class="bp">self</span><span class="o">.</span><span class="n">h</span><span class="si">}{</span><span class="bp">self</span><span class="o">.</span><span class="n">r</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">v</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">v</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">v</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ll</span><span class="si">}{</span><span class="bp">self</span><span class="o">.</span><span class="n">h</span><span class="si">}{</span><span class="bp">self</span><span class="o">.</span><span class="n">b</span><span class="si">}{</span><span class="bp">self</span><span class="o">.</span><span class="n">h</span><span class="si">}{</span><span class="bp">self</span><span class="o">.</span><span class="n">lr</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="p">]</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the box parts as a string to illustrate what the box looks like.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">to_str2d</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert the box parts to a Str2D object.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Str2D</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">),</span> <span class="n">halign</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="n">valign</span><span class="o">=</span><span class="s2">&quot;bottom&quot;</span><span class="p">)</span></div>



<div class="viewcode-block" id="BoxStyle">
<a class="viewcode-back" href="../_str2d/str2d.BoxStyle.html#str2d.BoxStyle">[docs]</a>
<span class="k">class</span> <span class="nc">BoxStyle</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Enumerate different box styles. They can be used to draw boxes around text.  The</span>
<span class="sd">    box styles are made up of BoxParts objects that contain the box drawing characters.</span>
<span class="sd">    The main purpose of this class is to provide a way to apply box drawing over Str2D</span>
<span class="sd">    objects.</span>

<span class="sd">    You can see all the box styles by calling the swatches method.</span>

<span class="sd">    .. testcode::</span>

<span class="sd">        from str2d import BoxStyle</span>

<span class="sd">        BoxStyle.swatches()</span>

<span class="sd">    .. testoutput::</span>

<span class="sd">                                                        DASHED      DASHED</span>
<span class="sd">                                            DASHED      DOUBLE      DOUBLE</span>
<span class="sd">                    SINGLE      DASHED      DOUBLE      LIGHT       HEAVY</span>
<span class="sd">        SINGLE      HEAVY       DOUBLE      HEAVY       HEAVY       LIGHT</span>
<span class="sd">        ┌─┬─┐       ┏━┳━┓       ┌╌┬╌┐       ┏╍┳╍┓       ┍╍┯╍┑       ┎╌┰╌┒</span>
<span class="sd">        │ │ │       ┃ ┃ ┃       ╎ ╎ ╎       ╏ ╏ ╏       ╎ ╎ ╎       ╏ ╏ ╏</span>
<span class="sd">        ├─┼─┤       ┣━╋━┫       ├╌┼╌┤       ┣╍╋╍┫       ┝╍┿╍┥       ┠╌╂╌┨</span>
<span class="sd">        │ │ │       ┃ ┃ ┃       ╎ ╎ ╎       ╏ ╏ ╏       ╎ ╎ ╎       ╏ ╏ ╏</span>
<span class="sd">        └─┴─┘       ┗━┻━┛       └╌┴╌┘       ┗╍┻╍┛       ┕╍┷╍┙       ┖╌┸╌┚</span>

<span class="sd">                                DASHED      DASHED</span>
<span class="sd">                    DASHED      TRIPLE      TRIPLE                  DASHED</span>
<span class="sd">        DASHED      TRIPLE      LIGHT       HEAVY       DASHED      QUADRUPLE</span>
<span class="sd">        TRIPLE      HEAVY       HEAVY       LIGHT       QUADRUPLE   HEAVY</span>
<span class="sd">        ┌┄┬┄┐       ┏┅┳┅┓       ┍┅┯┅┑       ┎┄┰┄┒       ┌┈┬┈┐       ┏┉┳┉┓</span>
<span class="sd">        ┆ ┆ ┆       ┇ ┇ ┇       ┆ ┆ ┆       ┇ ┇ ┇       ┊ ┊ ┊       ┋ ┋ ┋</span>
<span class="sd">        ├┄┼┄┤       ┣┅╋┅┫       ┝┅┿┅┥       ┠┄╂┄┨       ├┈┼┈┤       ┣┉╋┉┫</span>
<span class="sd">        ┆ ┆ ┆       ┇ ┇ ┇       ┆ ┆ ┆       ┇ ┇ ┇       ┊ ┊ ┊       ┋ ┋ ┋</span>
<span class="sd">        └┄┴┄┘       ┗┅┻┅┛       ┕┅┷┅┙       ┖┄┸┄┚       └┈┴┈┘       ┗┉┻┉┛</span>

<span class="sd">        DASHED      DASHED</span>
<span class="sd">        QUADRUPLE   QUADRUPLE               DASHED      DASHED      DASHED</span>
<span class="sd">        LIGHT       HEAVY       SINGLE      DOUBLE      TRIPLE      QUADRUPLE</span>
<span class="sd">        HEAVY       LIGHT       ROUND       ROUND       ROUND       ROUND</span>
<span class="sd">        ┍┉┯┉┑       ┎┈┰┈┒       ╭─┬─╮       ╭╌┬╌╮       ╭┄┬┄╮       ╭┈┬┈╮</span>
<span class="sd">        ┊ ┊ ┊       ┋ ┋ ┋       │ │ │       ╎ ╎ ╎       ┆ ┆ ┆       ┊ ┊ ┊</span>
<span class="sd">        ┝┉┿┉┥       ┠┈╂┈┨       ├─┼─┤       ├╌┼╌┤       ├┄┼┄┤       ├┈┼┈┤</span>
<span class="sd">        ┊ ┊ ┊       ┋ ┋ ┋       │ │ │       ╎ ╎ ╎       ┆ ┆ ┆       ┊ ┊ ┊</span>
<span class="sd">        ┕┉┷┉┙       ┖┈┸┈┚       ╰─┴─╯       ╰╌┴╌╯       ╰┄┴┄╯       ╰┈┴┈╯</span>

<span class="sd">                    DOUBLE      SINGLE      LIGHT       HEAVY</span>
<span class="sd">        DOUBLE      SINGLE      DOUBLE      HEAVY       LIGHT</span>
<span class="sd">        ╔═╦═╗       ╓─╥─╖       ╒═╤═╕       ┎─┰─┒       ┍━┯━┑</span>
<span class="sd">        ║ ║ ║       ║ ║ ║       │ │ │       ┃ ┃ ┃       │ │ │</span>
<span class="sd">        ╠═╬═╣       ╟─╫─╢       ╞═╪═╡       ┠─╂─┨       ┝━┿━┥</span>
<span class="sd">        ║ ║ ║       ║ ║ ║       │ │ │       ┃ ┃ ┃       │ │ │</span>
<span class="sd">        ╚═╩═╝       ╙─╨─╜       ╘═╧═╛       ┖─┸─┚       ┕━┷━┙</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">SINGLE</span> <span class="o">=</span> <span class="n">BoxParts</span><span class="p">(</span><span class="o">*</span><span class="s2">&quot;│─┌┐┘└├┤┬┴┼&quot;</span><span class="p">)</span>
    <span class="n">SINGLE_HEAVY</span> <span class="o">=</span> <span class="n">BoxParts</span><span class="p">(</span><span class="o">*</span><span class="s2">&quot;┃━┏┓┛┗┣┫┳┻╋&quot;</span><span class="p">)</span>
    <span class="n">DASHED_DOUBLE</span> <span class="o">=</span> <span class="n">BoxParts</span><span class="p">(</span><span class="o">*</span><span class="s2">&quot;╎╌┌┐┘└├┤┬┴┼&quot;</span><span class="p">)</span>
    <span class="n">DASHED_DOUBLE_HEAVY</span> <span class="o">=</span> <span class="n">BoxParts</span><span class="p">(</span><span class="o">*</span><span class="s2">&quot;╏╍┏┓┛┗┣┫┳┻╋&quot;</span><span class="p">)</span>
    <span class="n">DASHED_DOUBLE_LIGHT_HEAVY</span> <span class="o">=</span> <span class="n">BoxParts</span><span class="p">(</span><span class="o">*</span><span class="s2">&quot;╎╍┍┑┙┕┝┥┯┷┿&quot;</span><span class="p">)</span>
    <span class="n">DASHED_DOUBLE_HEAVY_LIGHT</span> <span class="o">=</span> <span class="n">BoxParts</span><span class="p">(</span><span class="o">*</span><span class="s2">&quot;╏╌┎┒┚┖┠┨┰┸╂&quot;</span><span class="p">)</span>
    <span class="n">DASHED_TRIPLE</span> <span class="o">=</span> <span class="n">BoxParts</span><span class="p">(</span><span class="o">*</span><span class="s2">&quot;┆┄┌┐┘└├┤┬┴┼&quot;</span><span class="p">)</span>
    <span class="n">DASHED_TRIPLE_HEAVY</span> <span class="o">=</span> <span class="n">BoxParts</span><span class="p">(</span><span class="o">*</span><span class="s2">&quot;┇┅┏┓┛┗┣┫┳┻╋&quot;</span><span class="p">)</span>
    <span class="n">DASHED_TRIPLE_LIGHT_HEAVY</span> <span class="o">=</span> <span class="n">BoxParts</span><span class="p">(</span><span class="o">*</span><span class="s2">&quot;┆┅┍┑┙┕┝┥┯┷┿&quot;</span><span class="p">)</span>
    <span class="n">DASHED_TRIPLE_HEAVY_LIGHT</span> <span class="o">=</span> <span class="n">BoxParts</span><span class="p">(</span><span class="o">*</span><span class="s2">&quot;┇┄┎┒┚┖┠┨┰┸╂&quot;</span><span class="p">)</span>
    <span class="n">DASHED_QUADRUPLE</span> <span class="o">=</span> <span class="n">BoxParts</span><span class="p">(</span><span class="o">*</span><span class="s2">&quot;┊┈┌┐┘└├┤┬┴┼&quot;</span><span class="p">)</span>
    <span class="n">DASHED_QUADRUPLE_HEAVY</span> <span class="o">=</span> <span class="n">BoxParts</span><span class="p">(</span><span class="o">*</span><span class="s2">&quot;┋┉┏┓┛┗┣┫┳┻╋&quot;</span><span class="p">)</span>
    <span class="n">DASHED_QUADRUPLE_LIGHT_HEAVY</span> <span class="o">=</span> <span class="n">BoxParts</span><span class="p">(</span><span class="o">*</span><span class="s2">&quot;┊┉┍┑┙┕┝┥┯┷┿&quot;</span><span class="p">)</span>
    <span class="n">DASHED_QUADRUPLE_HEAVY_LIGHT</span> <span class="o">=</span> <span class="n">BoxParts</span><span class="p">(</span><span class="o">*</span><span class="s2">&quot;┋┈┎┒┚┖┠┨┰┸╂&quot;</span><span class="p">)</span>
    <span class="n">SINGLE_ROUND</span> <span class="o">=</span> <span class="n">BoxParts</span><span class="p">(</span><span class="o">*</span><span class="s2">&quot;│─╭╮╯╰├┤┬┴┼&quot;</span><span class="p">)</span>
    <span class="n">DASHED_DOUBLE_ROUND</span> <span class="o">=</span> <span class="n">BoxParts</span><span class="p">(</span><span class="o">*</span><span class="s2">&quot;╎╌╭╮╯╰├┤┬┴┼&quot;</span><span class="p">)</span>
    <span class="n">DASHED_TRIPLE_ROUND</span> <span class="o">=</span> <span class="n">BoxParts</span><span class="p">(</span><span class="o">*</span><span class="s2">&quot;┆┄╭╮╯╰├┤┬┴┼&quot;</span><span class="p">)</span>
    <span class="n">DASHED_QUADRUPLE_ROUND</span> <span class="o">=</span> <span class="n">BoxParts</span><span class="p">(</span><span class="o">*</span><span class="s2">&quot;┊┈╭╮╯╰├┤┬┴┼&quot;</span><span class="p">)</span>
    <span class="n">DOUBLE</span> <span class="o">=</span> <span class="n">BoxParts</span><span class="p">(</span><span class="o">*</span><span class="s2">&quot;║═╔╗╝╚╠╣╦╩╬&quot;</span><span class="p">)</span>
    <span class="n">DOUBLE_SINGLE</span> <span class="o">=</span> <span class="n">BoxParts</span><span class="p">(</span><span class="o">*</span><span class="s2">&quot;║─╓╖╜╙╟╢╥╨╫&quot;</span><span class="p">)</span>
    <span class="n">SINGLE_DOUBLE</span> <span class="o">=</span> <span class="n">BoxParts</span><span class="p">(</span><span class="o">*</span><span class="s2">&quot;│═╒╕╛╘╞╡╤╧╪&quot;</span><span class="p">)</span>
    <span class="n">LIGHT_HEAVY</span> <span class="o">=</span> <span class="n">BoxParts</span><span class="p">(</span><span class="o">*</span><span class="s2">&quot;┃─┎┒┚┖┠┨┰┸╂&quot;</span><span class="p">)</span>
    <span class="n">HEAVY_LIGHT</span> <span class="o">=</span> <span class="n">BoxParts</span><span class="p">(</span><span class="o">*</span><span class="s2">&quot;│━┍┑┙┕┝┥┯┷┿&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">to_str2d</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert the box style to a Str2D object.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">))</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">to_str2d</span><span class="p">()</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the box style as a string to illustrate what the box looks like.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">to_str2d</span><span class="p">())</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the box style as a string to illustrate what the box looks like.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">swatches</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return a Str2D object with the box style swatches.&quot;&quot;&quot;</span>

        <span class="n">master_box_list</span> <span class="o">=</span> <span class="n">Str2D</span><span class="o">.</span><span class="n">equal_width</span><span class="p">(</span>
            <span class="o">*</span><span class="p">[</span><span class="n">value</span><span class="o">.</span><span class="n">to_str2d</span><span class="p">()</span> <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">__members__</span><span class="o">.</span><span class="n">values</span><span class="p">()]</span>
        <span class="p">)</span>

        <span class="n">master_matrix</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">row</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">master_box_list</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">6</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">row</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="n">master_matrix</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
            <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">Str2D</span><span class="o">.</span><span class="n">join_v</span><span class="p">(</span>
            <span class="o">*</span><span class="p">[</span><span class="n">Str2D</span><span class="o">.</span><span class="n">join_h</span><span class="p">(</span><span class="o">*</span><span class="n">row</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;   &quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">master_matrix</span><span class="p">],</span> <span class="n">sep</span><span class="o">=</span><span class="n">Str2D</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">result</span></div>



<div class="viewcode-block" id="Str2D">
<a class="viewcode-back" href="../_str2d/str2d.Str2D.html#str2d.Str2D">[docs]</a>
<span class="k">class</span> <span class="nc">Str2D</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Str2D is a class that allows you to manipulate 2D strings in Python.  I had found</span>
<span class="sd">    myself wanting to paste blocks of text inline with other blocks of text.  If you&#39;ve</span>
<span class="sd">    ever tried to do this in a text editor, you&#39;ll know that it can be a bit of a pain.</span>
<span class="sd">    vi and vim have a feature called visual block mode that makes this easier.  But I</span>
<span class="sd">    wanted more flexibility and control.  So I created Str2D.</span>
<span class="sd">    </span>
<span class="sd">    Given a multi-line string, Str2D will convert it into something functionally</span>
<span class="sd">    equivalent where each line separated by a newline character will have the same</span>
<span class="sd">    number of characters.  These are filled in with whatever character is specified but</span>
<span class="sd">    by default it is a space.  This takes care of making sure that each row is the same</span>
<span class="sd">    width and is primed for manipulation.</span>

<span class="sd">    The simplest example is to show how to create a Str2D object from a multi-line</span>
<span class="sd">    string and add it to another Str2D object.</span>

<span class="sd">    Let&#39;s start by constructing a new instance of Str2D and assinging it to the variable</span>
<span class="sd">    `a`.</span>

<span class="sd">    .. testcode::</span>

<span class="sd">        from str2d import Str2D</span>

<span class="sd">        a = Str2D(&#39;a b c d\\ne f g\\nh i\\nj&#39;)</span>
<span class="sd">        a</span>

<span class="sd">    .. testoutput::</span>

<span class="sd">        a b c d</span>
<span class="sd">        e f g  </span>
<span class="sd">        h i    </span>
<span class="sd">        j      </span>

<span class="sd">    It might not be clear but the 2nd, 3rd, and 4th lines are padded with spaces to make</span>
<span class="sd">    each line the same width.  We can see this more clearly surrounding the object with</span>
<span class="sd">    a box.</span>

<span class="sd">    .. testcode::</span>

<span class="sd">        a.box()</span>

<span class="sd">    .. testoutput::</span>

<span class="sd">        ╭───────╮</span>
<span class="sd">        │a b c d│</span>
<span class="sd">        │e f g  │</span>
<span class="sd">        │h i    │</span>
<span class="sd">        │j      │</span>
<span class="sd">        ╰───────╯</span>

<span class="sd">    The padded characters are not just spaces.  The Str2D object is a structured array</span>
<span class="sd">    with two fields: &#39;char&#39; and &#39;alpha&#39;.  The &#39;char&#39; field is the character array and</span>
<span class="sd">    the &#39;alpha&#39; field is a boolean array with a of 1 or 0 for every character in the</span>
<span class="sd">    character array.  The &#39;alpha&#39; field is used to determine if a character will mask a</span>
<span class="sd">    second Str2D object when layered on top of it.  It is analogous to the alpha channel</span>
<span class="sd">    in an image where when layered on top of another image, the alpha channel will</span>
<span class="sd">    indicate which pixels will be visible and which will be transparent.  The &#39;alpha&#39;</span>
<span class="sd">    field is used in the same way.  A value of 1 means the character will be visible and</span>
<span class="sd">    a value of 0 means the character will be transparent.  The padded characters are all</span>
<span class="sd">    given an &#39;alpha&#39; value of 0.</span>

<span class="sd">    If we use the Str3D object to layer another Str2D object below it, we&#39;ll see that</span>
<span class="sd">    the padded characters will be transparent and the characters from the second Str2D</span>
<span class="sd">    object will be visible.</span>

<span class="sd">    .. testcode::</span>

<span class="sd">        from str2d import Str3D</span>

<span class="sd">        b = Str2D(&#39;&#39;&#39;\\</span>
<span class="sd">        .......</span>
<span class="sd">        .......</span>
<span class="sd">        .......</span>
<span class="sd">        .......</span>
<span class="sd">        &#39;&#39;&#39;)</span>

<span class="sd">        Str3D([a, b])</span>

<span class="sd">    .. testoutput::</span>

<span class="sd">        a b c d</span>
<span class="sd">        e f g..</span>
<span class="sd">        h i....</span>
<span class="sd">        j......</span>

<span class="sd">    We can accomplish the same thing by using the `fill_with` method. This method will</span>
<span class="sd">    fill the padded characters with the specified character.  More accurately, it will</span>
<span class="sd">    replace the characters in the &#39;char&#39; field where the &#39;alpha&#39; field is 0 with the</span>
<span class="sd">    specified character.</span>

<span class="sd">    .. testcode::</span>

<span class="sd">        a.fill_with(&#39;.&#39;)</span>

<span class="sd">    .. testoutput::</span>

<span class="sd">        a b c d</span>
<span class="sd">        e f g..</span>
<span class="sd">        h i....</span>
<span class="sd">        j......</span>

<span class="sd">    If we wanted to make all spaces transparent, we could use the `hide` method.  This</span>
<span class="sd">    will set the &#39;alpha&#39; field to 0 for all locations where the `char` field matches the</span>
<span class="sd">    specified character, which defaults to a space.</span>

<span class="sd">    .. testcode::</span>

<span class="sd">        a.hide().fill_with(&#39;.&#39;)</span>

<span class="sd">    .. testoutput::</span>

<span class="sd">        a.b.c.d</span>
<span class="sd">        e.f.g..</span>
<span class="sd">        h.i....</span>
<span class="sd">        j......</span>

<span class="sd">    Let&#39;s create a new Str2D object and assign it to the variable `c`.  This time we&#39;ll</span>
<span class="sd">    set the `halign` parameter to &#39;right&#39; which controls how lines with fewer characters</span>
<span class="sd">    than the maximum width are aligned.  By default, it is set to &#39;left&#39; which will</span>
<span class="sd">    align the lines to the left as we&#39;ve seen in the previous example with the variable</span>
<span class="sd">    `a`.</span>

<span class="sd">    .. testcode::</span>

<span class="sd">        c = Str2D(&#39;0\\n1 2\\n3 4 5\\n6 7 8 9&#39;, halign=&#39;right&#39;)</span>
<span class="sd">        c</span>

<span class="sd">    .. testoutput::</span>

<span class="sd">              0</span>
<span class="sd">            1 2</span>
<span class="sd">          3 4 5</span>
<span class="sd">        6 7 8 9</span>

<span class="sd">    We can now see our simple example of adding two Str2D objects together.</span>

<span class="sd">    .. testcode::</span>
<span class="sd">    </span>
<span class="sd">            a + c</span>

<span class="sd">    .. testoutput::</span>

<span class="sd">        a b c d      0</span>
<span class="sd">        e f g      1 2</span>
<span class="sd">        h i      3 4 5</span>
<span class="sd">        j      6 7 8 9</span>

<span class="sd">    All of the transparent characters are preserved and we can fill the result as you&#39;d</span>
<span class="sd">    expect.</span>

<span class="sd">    .. testcode::</span>

<span class="sd">        (a + c).fill_with(&#39;.&#39;)</span>

<span class="sd">    .. testoutput::</span>

<span class="sd">        a b c d......0</span>
<span class="sd">        e f g......1 2</span>
<span class="sd">        h i......3 4 5</span>
<span class="sd">        j......6 7 8 9</span>

<span class="sd">    We&#39;ll save the rest for the documentation of the individual methods.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Structured array data type for Str2D objects</span>
    <span class="c1"># the &#39;char&#39; field is the little-endian unicode single character</span>
    <span class="c1"># the &#39;alpha&#39; field is an int8 that is trying its best to be a boolean</span>
    <span class="n">_dtype</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dtype</span><span class="p">([(</span><span class="s2">&quot;char&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;U1&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;alpha&quot;</span><span class="p">,</span> <span class="s2">&quot;int8&quot;</span><span class="p">)])</span>

    <span class="c1"># when doing a transpose, horizontal, or vertical transformations</span>
    <span class="c1"># shift the alignments to something that makes sense</span>
    <span class="n">_align_transpose</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;top&quot;</span><span class="p">:</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span>
        <span class="s2">&quot;middle&quot;</span><span class="p">:</span> <span class="s2">&quot;center&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bottom&quot;</span><span class="p">:</span> <span class="s2">&quot;right&quot;</span><span class="p">,</span>
        <span class="s2">&quot;left&quot;</span><span class="p">:</span> <span class="s2">&quot;top&quot;</span><span class="p">,</span>
        <span class="s2">&quot;center&quot;</span><span class="p">:</span> <span class="s2">&quot;middle&quot;</span><span class="p">,</span>
        <span class="s2">&quot;right&quot;</span><span class="p">:</span> <span class="s2">&quot;bottom&quot;</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">_align_horizontal</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;left&quot;</span><span class="p">:</span> <span class="s2">&quot;right&quot;</span><span class="p">,</span> <span class="s2">&quot;center&quot;</span><span class="p">:</span> <span class="s2">&quot;center&quot;</span><span class="p">,</span> <span class="s2">&quot;right&quot;</span><span class="p">:</span> <span class="s2">&quot;left&quot;</span><span class="p">}</span>
    <span class="n">_align_vertical</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;top&quot;</span><span class="p">:</span> <span class="s2">&quot;bottom&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">:</span> <span class="s2">&quot;middle&quot;</span><span class="p">,</span> <span class="s2">&quot;bottom&quot;</span><span class="p">:</span> <span class="s2">&quot;top&quot;</span><span class="p">}</span>

    <span class="c1">####################################################################</span>
    <span class="c1"># Construction methods #############################################</span>
    <span class="c1">####################################################################</span>

<div class="viewcode-block" id="Str2D.validate_fill">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.validate_fill.html#str2d.Str2D.validate_fill">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">validate_fill</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">fill</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate the fill value.  The fill value is a tuple containing the fill</span>
<span class="sd">        character and fill alpha value.  The fill character is a single character and</span>
<span class="sd">        the fill alpha value is 0 or 1.  This validator will accept a single character</span>
<span class="sd">        or a tuple containing a single character and an integer.  If a single character</span>
<span class="sd">        is passed, the fill alpha value will be 0.  If a tuple is passed, the fill</span>
<span class="sd">        character will be the first element and the fill alpha value will be the second.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        fill : Optional[Union[str, Tuple[str, int]]], optional</span>
<span class="sd">            The fill value, by default None</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Tuple[str, int]</span>
<span class="sd">            A tuple containing the fill character and fill alpha value.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            If the fill value is not a single character or a tuple containing a single</span>
<span class="sd">            character and an integer or if the fill alpha value is not 0 or 1.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">fill</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="mi">0</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">fill</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">fill_char</span> <span class="o">=</span> <span class="n">fill</span>
            <span class="n">fill_alpha</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">fill</span><span class="p">,</span> <span class="p">(</span><span class="nb">tuple</span><span class="p">,</span> <span class="nb">list</span><span class="p">)):</span>
            <span class="n">fill_char</span><span class="p">,</span> <span class="n">fill_alpha</span> <span class="o">=</span> <span class="n">fill</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;fill must be a str or tuple.&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">fill_char</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;fill_char must be a single character.&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">fill_alpha</span> <span class="ow">in</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">}:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;fill_alpha must be 0 or 1.&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">fill_char</span><span class="p">,</span> <span class="n">fill_alpha</span></div>


<div class="viewcode-block" id="Str2D.validate_halign">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.validate_halign.html#str2d.Str2D.validate_halign">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">validate_halign</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">halign</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate the horizontal alignment.  The horizontal alignment can be &#39;left&#39;,</span>
<span class="sd">        &#39;center&#39;, or &#39;right&#39;.  It will lower case the input and raise a ValueError if</span>
<span class="sd">        the input is not one of the valid options.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        halign : str</span>
<span class="sd">            The horizontal alignment.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        str</span>
<span class="sd">            The validated horizontal alignment.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            If the horizontal alignment is not &#39;left&#39;, &#39;center&#39;, or &#39;right&#39;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">halign</span> <span class="o">=</span> <span class="n">halign</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">halign</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">{</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="s2">&quot;center&quot;</span><span class="p">,</span> <span class="s2">&quot;right&quot;</span><span class="p">}:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;halign must be one of &#39;left&#39;, &#39;center&#39;, or &#39;right&#39;.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">halign</span></div>


<div class="viewcode-block" id="Str2D.validate_valign">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.validate_valign.html#str2d.Str2D.validate_valign">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">validate_valign</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">valign</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate the vertical alignment. The vertical alignment can be &#39;top&#39;,</span>
<span class="sd">        &#39;middle&#39;, or &#39;bottom&#39;.  It will lower case the input and raise a ValueError if</span>
<span class="sd">        the input is not one of the valid options.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        valign : str</span>
<span class="sd">            The vertical alignment.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        str</span>
<span class="sd">            The validated vertical alignment.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            If the vertical alignment is not &#39;top&#39;, &#39;middle&#39;, or &#39;bottom&#39;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">valign</span> <span class="o">=</span> <span class="n">valign</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">valign</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">{</span><span class="s2">&quot;top&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">,</span> <span class="s2">&quot;bottom&quot;</span><span class="p">}:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;valign must be one of &#39;top&#39;, &#39;middle&#39;, or &#39;bottom&#39;.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">valign</span></div>


<div class="viewcode-block" id="Str2D.struct_array_from_string">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.struct_array_from_string.html#str2d.Str2D.struct_array_from_string">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">struct_array_from_string</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">string</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a structured array from a string.  This is likely the most common way</span>
<span class="sd">        to create an Str2D object.  The string is split into lines and then each line is</span>
<span class="sd">        split into characters.  The structured array is created with fields &#39;char&#39; and</span>
<span class="sd">        &#39;alpha&#39; where the &#39;char&#39; field contains the characters and the &#39;alpha&#39; field</span>
<span class="sd">        contains 1 for each character.</span>

<span class="sd">        Though we aren&#39;t returning a Str2D object, we are returning a structured array</span>
<span class="sd">        that potentially needs to be padded and therefore we take the same keyword</span>
<span class="sd">        arguments as the Str2D constructor.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        string : str</span>
<span class="sd">            A string to convert to a structured array.</span>

<span class="sd">        min_width : int, optional</span>
<span class="sd">            The minimum width of the output, by default 0.</span>

<span class="sd">        min_height : int, optional</span>
<span class="sd">            The minimum height of the output, by default 0.</span>

<span class="sd">        halign : str, optional</span>
<span class="sd">            The horizontal alignment, by default &#39;left&#39;.</span>

<span class="sd">        valign : str, optional</span>
<span class="sd">            The vertical alignment, by default &#39;top&#39;.</span>

<span class="sd">        fill : Tuple[str, int], optional</span>
<span class="sd">            The fill value for the &#39;char&#39; and &#39;alpha&#39; fields, by default (&#39; &#39;, 0).</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        np.ndarray</span>
<span class="sd">            A structured array with fields &#39;char&#39; and &#39;alpha&#39; created from the input</span>
<span class="sd">            string.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">pre_data</span> <span class="o">=</span> <span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="n">row</span><span class="p">)</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">string</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()]</span>
        <span class="c1"># needed to use `pop or 0` as opposed to `pop(key, 0)`</span>
        <span class="c1"># because `None` may have been explicitly passed</span>
        <span class="n">min_width</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;min_width&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="mi">0</span>
        <span class="n">min_height</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;min_height&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="mi">0</span>
        <span class="n">data_width</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">len</span><span class="p">,</span> <span class="n">pre_data</span><span class="p">),</span> <span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">data_height</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">pre_data</span><span class="p">)</span>
        <span class="n">width</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">data_width</span><span class="p">,</span> <span class="n">min_width</span><span class="p">)</span>
        <span class="n">height</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">data_height</span><span class="p">,</span> <span class="n">min_height</span><span class="p">)</span>

        <span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">((</span><span class="n">height</span><span class="p">,</span> <span class="n">width</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">_dtype</span><span class="p">)</span>
        <span class="n">fill</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;fill&quot;</span><span class="p">,</span> <span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="n">data</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">fill</span><span class="p">)</span>

        <span class="n">halign</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;halign&quot;</span><span class="p">,</span> <span class="s2">&quot;left&quot;</span><span class="p">)</span>
        <span class="n">valign</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;valign&quot;</span><span class="p">,</span> <span class="s2">&quot;top&quot;</span><span class="p">)</span>

        <span class="n">start_v</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="n">valign</span> <span class="o">==</span> <span class="s2">&quot;middle&quot;</span><span class="p">:</span>
            <span class="n">start_v</span> <span class="o">=</span> <span class="p">(</span><span class="n">height</span> <span class="o">-</span> <span class="n">data_height</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="k">elif</span> <span class="n">valign</span> <span class="o">==</span> <span class="s2">&quot;bottom&quot;</span><span class="p">:</span>
            <span class="n">start_v</span> <span class="o">=</span> <span class="n">height</span> <span class="o">-</span> <span class="n">data_height</span>

        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">pre_data</span><span class="p">,</span> <span class="n">start_v</span><span class="p">):</span>
            <span class="n">this_width</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
            <span class="n">start</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">if</span> <span class="n">halign</span> <span class="o">==</span> <span class="s2">&quot;center&quot;</span><span class="p">:</span>
                <span class="n">start</span> <span class="o">=</span> <span class="p">(</span><span class="n">width</span> <span class="o">-</span> <span class="n">this_width</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
            <span class="k">elif</span> <span class="n">halign</span> <span class="o">==</span> <span class="s2">&quot;right&quot;</span><span class="p">:</span>
                <span class="n">start</span> <span class="o">=</span> <span class="n">width</span> <span class="o">-</span> <span class="n">this_width</span>
            <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">char</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">start</span><span class="p">):</span>
                <span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">char</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">data</span></div>


<div class="viewcode-block" id="Str2D.struct_array_from_char_array">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.struct_array_from_char_array.html#str2d.Str2D.struct_array_from_char_array">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">struct_array_from_char_array</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a structured array from a character array.  This is useful when you</span>
<span class="sd">        have a 2D array of characters and you want to convert it to a structured array</span>
<span class="sd">        with fields &#39;char&#39; and &#39;alpha&#39;.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        array : np.ndarray</span>
<span class="sd">            A 2D character array.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        np.ndarray</span>
<span class="sd">            A structured array with fields &#39;char&#39; and &#39;alpha&#39; created from the input</span>
<span class="sd">            character array.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">array</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">_dtype</span><span class="p">)</span>
        <span class="n">data</span><span class="p">[</span><span class="s2">&quot;char&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">array</span>
        <span class="n">data</span><span class="p">[</span><span class="s2">&quot;alpha&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">data</span></div>


<div class="viewcode-block" id="Str2D.struct_array_from_bool_array">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.struct_array_from_bool_array.html#str2d.Str2D.struct_array_from_bool_array">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">struct_array_from_bool_array</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">char</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a structured array from a boolean array. This is useful when you have</span>
<span class="sd">        a boolean array and you want to convert it to a structured array with fields</span>
<span class="sd">        &#39;char&#39; and &#39;alpha&#39;.</span>

<span class="sd">        The &#39;char&#39; field will be filled with the specified character where the boolean</span>
<span class="sd">        array is True and &#39; &#39; where the boolean array is False.  The &#39;alpha&#39; field will</span>
<span class="sd">        be 1 where the boolean array is True and 0 where the boolean array is False.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        array : np.ndarray</span>
<span class="sd">            A 2D boolean array.</span>

<span class="sd">        char : str</span>
<span class="sd">            The character to use when the boolean array is True.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        np.ndarray</span>
<span class="sd">            A structured array with fields &#39;char&#39; and &#39;alpha&#39; created from the input</span>
<span class="sd">            boolean array.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">array</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">_dtype</span><span class="p">)</span>
        <span class="n">data</span><span class="p">[</span><span class="s2">&quot;char&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">array</span><span class="p">,</span> <span class="n">char</span><span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="p">)</span>
        <span class="n">data</span><span class="p">[</span><span class="s2">&quot;alpha&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">array</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">data</span></div>


<div class="viewcode-block" id="Str2D.parse">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.parse.html#str2d.Str2D.parse">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">parse</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Parse the input data into a structured array.  This is the main method that</span>
<span class="sd">        will take the input data and convert it into a structured array with fields</span>
<span class="sd">        &#39;char&#39; and &#39;alpha&#39;.  The input data can be a string, a structured array, a</span>
<span class="sd">        boolean array, a DataFrame, a Series, or an iterable.  If the input data is a</span>
<span class="sd">        structured array, the keyword arguments will be ignored.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        data : Optional[Any], optional</span>
<span class="sd">            The input data, by default None.</span>

<span class="sd">        kwargs : dict</span>
<span class="sd">            Additional keyword arguments to pass to the struct_array_from_string method.</span>
<span class="sd">            If the input data is a structured array, these keyword arguments will be</span>
<span class="sd">            ignored.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        np.ndarray</span>
<span class="sd">            A structured array with fields &#39;char&#39; and &#39;alpha&#39; created from the input</span>
<span class="sd">            data.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">Str2D</span><span class="p">):</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">data</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">data</span><span class="o">.</span><span class="n">dtype</span> <span class="o">==</span> <span class="nb">bool</span><span class="p">:</span>
                <span class="n">char</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;char&quot;</span><span class="p">,</span> <span class="s2">&quot;█&quot;</span><span class="p">)</span>
                <span class="n">data</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">struct_array_from_bool_array</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">char</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">data</span><span class="o">.</span><span class="n">dtype</span> <span class="o">!=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_dtype</span><span class="p">:</span>
                <span class="n">data</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">struct_array_from_char_array</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">data</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">struct_array_from_string</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="p">(</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">Series</span><span class="p">)):</span>
            <span class="n">data</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">struct_array_from_string</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">to_string</span><span class="p">(),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;__iter__&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">data</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">struct_array_from_string</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">data</span><span class="p">)),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">data</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">struct_array_from_string</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">struct_array_from_string</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">data</span></div>


<div class="viewcode-block" id="Str2D.__init__">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.__init__.html#str2d.Str2D.__init__">[docs]</a>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">data</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">min_width</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">min_height</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">halign</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span>
        <span class="n">valign</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;top&quot;</span><span class="p">,</span>
        <span class="n">fill</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a new Str2D object.  The input data can be a string, a structured</span>
<span class="sd">        array, a boolean array, a DataFrame, a Series, or an iterable.  If the input</span>
<span class="sd">        data is a structured array, the keyword arguments will be ignored.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        data : Optional[Any], optional</span>
<span class="sd">            The input data, by default None.</span>

<span class="sd">        min_width : Optional[int], optional</span>
<span class="sd">            The minimum width of the output, by default None.</span>

<span class="sd">        min_height : Optional[int], optional</span>
<span class="sd">            The minimum height of the output, by default None.</span>

<span class="sd">        halign : Optional[str], optional</span>
<span class="sd">            The horizontal alignment, by default &#39;left&#39;.</span>

<span class="sd">        valign : Optional[str], optional</span>
<span class="sd">            The vertical alignment, by default &#39;top&#39;.</span>

<span class="sd">        fill : Optional[Union[str, Tuple[str, int]]], optional</span>
<span class="sd">            The fill value, by default None.</span>

<span class="sd">        **kwargs : dict</span>
<span class="sd">            Additional keyword arguments to pass to the parse method.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            If the fill, horizontal alignment, or vertical alignment value is invalid.</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">fill</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">validate_fill</span><span class="p">(</span><span class="n">fill</span><span class="p">)</span>
        <span class="n">halign</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">validate_halign</span><span class="p">(</span><span class="n">halign</span><span class="p">)</span>
        <span class="n">valign</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">validate_valign</span><span class="p">(</span><span class="n">valign</span><span class="p">)</span>

        <span class="n">my_kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;min_width&quot;</span><span class="p">:</span> <span class="n">min_width</span><span class="p">,</span>
            <span class="s2">&quot;min_height&quot;</span><span class="p">:</span> <span class="n">min_height</span><span class="p">,</span>
            <span class="s2">&quot;halign&quot;</span><span class="p">:</span> <span class="n">halign</span><span class="p">,</span>
            <span class="s2">&quot;valign&quot;</span><span class="p">:</span> <span class="n">valign</span><span class="p">,</span>
            <span class="s2">&quot;fill&quot;</span><span class="p">:</span> <span class="n">fill</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">my_kwargs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="n">height_input</span><span class="p">,</span> <span class="n">width_input</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">shape</span>

        <span class="n">height_data</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">height_input</span><span class="p">,</span> <span class="n">min_height</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">width_data</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">width_input</span><span class="p">,</span> <span class="n">min_width</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">)</span>

        <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">right</span> <span class="o">=</span> <span class="n">width_data</span> <span class="o">-</span> <span class="n">width_input</span>
        <span class="k">if</span> <span class="n">halign</span> <span class="o">==</span> <span class="s2">&quot;center&quot;</span><span class="p">:</span>
            <span class="n">left</span> <span class="o">=</span> <span class="p">(</span><span class="n">width_data</span> <span class="o">-</span> <span class="n">width_input</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
            <span class="n">right</span> <span class="o">=</span> <span class="n">width_data</span> <span class="o">-</span> <span class="n">width_input</span> <span class="o">-</span> <span class="n">left</span>
        <span class="k">elif</span> <span class="n">halign</span> <span class="o">==</span> <span class="s2">&quot;right&quot;</span><span class="p">:</span>
            <span class="n">left</span> <span class="o">=</span> <span class="n">width_data</span> <span class="o">-</span> <span class="n">width_input</span>
            <span class="n">right</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="n">top</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">bottom</span> <span class="o">=</span> <span class="n">height_data</span> <span class="o">-</span> <span class="n">height_input</span>
        <span class="k">if</span> <span class="n">valign</span> <span class="o">==</span> <span class="s2">&quot;middle&quot;</span><span class="p">:</span>
            <span class="n">top</span> <span class="o">=</span> <span class="p">(</span><span class="n">height_data</span> <span class="o">-</span> <span class="n">height_input</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
            <span class="n">bottom</span> <span class="o">=</span> <span class="n">height_data</span> <span class="o">-</span> <span class="n">height_input</span> <span class="o">-</span> <span class="n">top</span>
        <span class="k">elif</span> <span class="n">valign</span> <span class="o">==</span> <span class="s2">&quot;bottom&quot;</span><span class="p">:</span>
            <span class="n">top</span> <span class="o">=</span> <span class="n">height_data</span> <span class="o">-</span> <span class="n">height_input</span>
            <span class="n">bottom</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">struct_pad</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="p">((</span><span class="n">top</span><span class="p">,</span> <span class="n">bottom</span><span class="p">),</span> <span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">)),</span> <span class="n">fill</span><span class="o">=</span><span class="n">fill</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">halign</span> <span class="o">=</span> <span class="n">halign</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">valign</span> <span class="o">=</span> <span class="n">valign</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">fill</span></div>


    <span class="c1">####################################################################</span>
    <span class="c1"># Math Operations ##################################################</span>
    <span class="c1">####################################################################</span>

<div class="viewcode-block" id="Str2D.__add__">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.__add__.html#str2d.Str2D.__add__">[docs]</a>
    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;Str2D&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">right_side</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adding one Str2D object to another or a string to a Str2D object is the main</span>
<span class="sd">        point of this class.  We can add a Str2D object to another Str2D object in order</span>
<span class="sd">        to concatenate them horizontally.  Both objects will be expanded to have the</span>
<span class="sd">        same height while respecting the alignment parameters.  When adding a string to</span>
<span class="sd">        a Str2D object, the string will be wrapped in a Str2D object and treated as</span>
<span class="sd">        described above.  In the case of adding another Str2D object, the expansion will</span>
<span class="sd">        use the expansion argument `&#39;mode&#39;` set to `&#39;edge&#39;`.  This allows the expansion</span>
<span class="sd">        to repeat the string intuitively to the edge of the Str2D object.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        other : Union[Str2D, str]</span>
<span class="sd">            The Str2D object or string to add.</span>

<span class="sd">        right_side : bool, optional</span>
<span class="sd">            If True, the Str2D object will be added to the right side of the</span>
<span class="sd">            other Str2D object, by default False.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Str2D</span>
<span class="sd">            A new Str2D object with the added data.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        add : Add the data.</span>
<span class="sd">        __add__ : Add the data.</span>
<span class="sd">        __radd__ : Add the data.</span>
<span class="sd">        add : Add the data.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        Let&#39;s create several instances of Str2D and assign them to the variables `a`,</span>
<span class="sd">        `b`, and `c`.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            from str2d import Str2D</span>

<span class="sd">            a = Str2D(&#39;a b c d\\ne f g\\nh i\\nj&#39;)</span>
<span class="sd">            b = Str2D(&#39;1 2 3\\n4 5 6\\n7 8 9&#39;)</span>
<span class="sd">            c = Str2D(&#39;x y z\\nu v w\\nq r s&#39;)</span>

<span class="sd">        We can add the data horizontally by using the Str2D objects with the `+`</span>
<span class="sd">        operator.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            a + b + c</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            a b c d1 2 3x y z</span>
<span class="sd">            e f g  4 5 6u v w</span>
<span class="sd">            h i    7 8 9q r s</span>
<span class="sd">            j</span>

<span class="sd">        We can also add a string to the Str2D object.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            a + &#39; hello &#39; + c</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            a b c d hello x y z</span>
<span class="sd">            e f g   hello u v w</span>
<span class="sd">            h i     hello q r s</span>
<span class="sd">            j       hello</span>

<span class="sd">        From the right side.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            &#39;hello &#39; + a</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            hello a b c d</span>
<span class="sd">            hello e f g</span>
<span class="sd">            hello h i</span>
<span class="sd">            hello j</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">other_expand_kwargs</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">other_expand_kwargs</span><span class="p">[</span><span class="s2">&quot;mode&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;edge&quot;</span>
            <span class="k">if</span> <span class="n">other</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                <span class="n">other_expand_kwargs</span><span class="p">[</span><span class="s2">&quot;mode&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;constant&quot;</span>
            <span class="n">other</span> <span class="o">=</span> <span class="n">Str2D</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">other</span><span class="p">)</span>

        <span class="n">height</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>
        <span class="n">left</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">expand</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="n">height</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>
        <span class="n">right</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">expand</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="n">height</span> <span class="o">-</span> <span class="n">other</span><span class="o">.</span><span class="n">height</span><span class="p">,</span> <span class="o">**</span><span class="n">other_expand_kwargs</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">right_side</span><span class="p">:</span>
            <span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">right</span><span class="p">,</span> <span class="n">left</span>
        <span class="k">return</span> <span class="n">Str2D</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">((</span><span class="n">left</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">right</span><span class="o">.</span><span class="n">data</span><span class="p">)),</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="Str2D.__radd__">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.__radd__.html#str2d.Str2D.__radd__">[docs]</a>
    <span class="k">def</span> <span class="fm">__radd__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Dunder method handling the right side of the addition operation.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__add__</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">right_side</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></div>


    <span class="fm">__radd__</span><span class="o">.</span><span class="vm">__doc__</span> <span class="o">+=</span> <span class="fm">__add__</span><span class="o">.</span><span class="vm">__doc__</span>

<div class="viewcode-block" id="Str2D.add">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.add.html#str2d.Str2D.add">[docs]</a>
    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Public method for adding the data without the need to use the `+` operator.</span>
<span class="sd">        We use the `join_h` method to concatenate the data horizontally with additional</span>
<span class="sd">        arguments.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        args : Tuple[Str2D]</span>
<span class="sd">            The Str2D objects to add.</span>

<span class="sd">        kwargs : dict</span>
<span class="sd">            Additional keyword arguments to pass to the `join_h` method.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Str2D</span>
<span class="sd">            A new Str2D object with the added data.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        __add__ : Add the data.</span>
<span class="sd">        __radd__ : Add the data.</span>
<span class="sd">        add : Add the data.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Str2D</span><span class="o">.</span><span class="n">join_h</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="Str2D.__mul__">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.__mul__.html#str2d.Str2D.__mul__">[docs]</a>
    <span class="k">def</span> <span class="fm">__mul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;It doesn&#39;t make sense to multiply a Str2D object by another Str2D object.</span>
<span class="sd">        However, we can multiply a Str2D object by an integer.  This will repeat the</span>
<span class="sd">        data equal to the integer value.  The direction of the repetition is determined</span>
<span class="sd">        by the side of the Str2D object that the integer is on.  If the integer is on</span>
<span class="sd">        the left side, the data will be repeated vertically.  If the integer is on the</span>
<span class="sd">        right side, the data will be repeated horizontally.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        other : int</span>
<span class="sd">            The number of times to repeat the data.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Str2D</span>
<span class="sd">            A new Str2D object with the repeated data.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        __rmul__ : Multiply the data.</span>
<span class="sd">        __mul__ : Multiply the data.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        Let&#39;s create an instance of Str2D and assign it to the variable `a`.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            from str2d import Str2D</span>

<span class="sd">            a = Str2D(&#39;a b c d\\ne f g\\nh i\\nj&#39;)</span>

<span class="sd">        We can multiply the data by multiplying by an integer on the right side.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            a * 2</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            a b c da b c d</span>
<span class="sd">            e f g  e f g</span>
<span class="sd">            h i    h i</span>
<span class="sd">            j      j</span>

<span class="sd">        We can also multiply the data by multiplying by an integer on the left side.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            2 * a</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            a b c d</span>
<span class="sd">            e f g</span>
<span class="sd">            h i</span>
<span class="sd">            j</span>
<span class="sd">            a b c d</span>
<span class="sd">            e f g</span>
<span class="sd">            h i</span>
<span class="sd">            j</span>


<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Str2D</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">]</span> <span class="o">*</span> <span class="n">other</span><span class="p">),</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="Str2D.__rmul__">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.__rmul__.html#str2d.Str2D.__rmul__">[docs]</a>
    <span class="k">def</span> <span class="fm">__rmul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">Str2D</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">]</span> <span class="o">*</span> <span class="n">other</span><span class="p">),</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">)</span></div>


    <span class="fm">__rmul__</span><span class="o">.</span><span class="vm">__doc__</span> <span class="o">=</span> <span class="fm">__mul__</span><span class="o">.</span><span class="vm">__doc__</span>

<div class="viewcode-block" id="Str2D.__truediv__">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.__truediv__.html#str2d.Str2D.__truediv__">[docs]</a>
    <span class="k">def</span> <span class="fm">__truediv__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;Str2D&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">right_side</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Division is the vertical analog of the addition operation.  We can divide a</span>
<span class="sd">        Str2D object by another Str2D object in order to concatenate them vertically.</span>
<span class="sd">        Both objects will be expanded to have the same width while respecting the</span>
<span class="sd">        alignment parameters.  When dividing by str object, the expansion will use the</span>
<span class="sd">        expansion argument `&#39;mode&#39;` set to `&#39;edge&#39;`.  This allows the expansion to</span>
<span class="sd">        repeat the string intuitively to the edge of the Str2D object.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        other : Union[Str2D, str]</span>
<span class="sd">            The Str2D object or string to divide.</span>

<span class="sd">        right_side : bool, optional</span>
<span class="sd">            If True, the Str2D object will be below the other Str2D object, by default</span>
<span class="sd">            False.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Str2D</span>
<span class="sd">            A new Str2D object with the divided data.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        __truediv__ : Divide the data.</span>
<span class="sd">        __rtruediv__ : Divide the data.</span>
<span class="sd">        div : Divide the data.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        Let&#39;s create several instances of Str2D and assign them to the variables `a`,</span>
<span class="sd">        `b`, and `c`.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            from str2d import Str2D</span>

<span class="sd">            a = Str2D(&#39;a b c d\\ne f g\\nh i\\nj&#39;)</span>
<span class="sd">            b = Str2D(&#39;1 2 3\\n4 5 6\\n7 8 9&#39;)</span>
<span class="sd">            c = Str2D(&#39;x y z\\nu v w\\nq r s&#39;)</span>

<span class="sd">        We can divide the data vertically by using the Str2D objects with the `/`</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            a / b / c</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            a b c d</span>
<span class="sd">            e f g</span>
<span class="sd">            h i</span>
<span class="sd">            j</span>
<span class="sd">            1 2 3</span>
<span class="sd">            4 5 6</span>
<span class="sd">            7 8 9</span>
<span class="sd">            x y z</span>
<span class="sd">            u v w</span>
<span class="sd">            q r s</span>

<span class="sd">        We can also divide by a string.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            a / &#39;-&#39; / c</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            a b c d</span>
<span class="sd">            e f g</span>
<span class="sd">            h i</span>
<span class="sd">            j</span>
<span class="sd">            -------</span>
<span class="sd">            x y z</span>
<span class="sd">            u v w</span>
<span class="sd">            q r s</span>

<span class="sd">        From the right side.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            &#39;-&#39; / a</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            -------</span>
<span class="sd">            a b c d</span>
<span class="sd">            e f g</span>
<span class="sd">            h i</span>
<span class="sd">            j</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">other_expand_kwargs</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">other_expand_kwargs</span><span class="p">[</span><span class="s2">&quot;mode&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;edge&quot;</span>
            <span class="k">if</span> <span class="n">other</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                <span class="n">other_expand_kwargs</span><span class="p">[</span><span class="s2">&quot;mode&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;constant&quot;</span>
            <span class="n">other</span> <span class="o">=</span> <span class="n">Str2D</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">other</span><span class="p">)</span>

        <span class="n">width</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">width</span><span class="p">)</span>
        <span class="n">left</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">expand</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">width</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">)</span>
        <span class="n">right</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">expand</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">width</span> <span class="o">-</span> <span class="n">other</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="o">**</span><span class="n">other_expand_kwargs</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">right_side</span><span class="p">:</span>
            <span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">right</span><span class="p">,</span> <span class="n">left</span>
        <span class="k">return</span> <span class="n">Str2D</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">((</span><span class="n">left</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">right</span><span class="o">.</span><span class="n">data</span><span class="p">)),</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="Str2D.__rtruediv__">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.__rtruediv__.html#str2d.Str2D.__rtruediv__">[docs]</a>
    <span class="k">def</span> <span class="fm">__rtruediv__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__truediv__</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">right_side</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></div>


    <span class="fm">__rtruediv__</span><span class="o">.</span><span class="vm">__doc__</span> <span class="o">=</span> <span class="fm">__truediv__</span><span class="o">.</span><span class="vm">__doc__</span>

<div class="viewcode-block" id="Str2D.div">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.div.html#str2d.Str2D.div">[docs]</a>
    <span class="k">def</span> <span class="nf">div</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Public method for dividing the data without the need to use the `/` operator.</span>
<span class="sd">        We use the `join_v` method to concatenate the data vertically with additional</span>
<span class="sd">        arguments.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        args : Tuple[Str2D]</span>
<span class="sd">            The Str2D objects to divide.</span>

<span class="sd">        kwargs : dict</span>
<span class="sd">            Additional keyword arguments to pass to the `join_v` method.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Str2D</span>
<span class="sd">            A new Str2D object with the divided data.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        __truediv__ : Divide the data.</span>
<span class="sd">        __rtruediv__ : Divide the data.</span>
<span class="sd">        div : Divide the data.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Str2D</span><span class="o">.</span><span class="n">join_v</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


    <span class="c1">####################################################################</span>
    <span class="c1"># Class methods ####################################################</span>
    <span class="c1">####################################################################</span>

<div class="viewcode-block" id="Str2D.struct_pad">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.struct_pad.html#str2d.Str2D.struct_pad">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">struct_pad</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">array</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Pads a structured array with fields &#39;char&#39; and &#39;alpha&#39;.  The</span>
<span class="sd">        method is a wrapper around np.pad that pads the &#39;char&#39; and &#39;alpha&#39; fields with</span>
<span class="sd">        the fill value specified in the &#39;fill&#39; keyword argument.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        array : np.ndarray</span>
<span class="sd">            A structured array with fields &#39;char&#39; and &#39;alpha&#39;.</span>

<span class="sd">        mode: str, optional</span>
<span class="sd">            The padding mode, by default &#39;constant&#39;.  Other options are documented in</span>
<span class="sd">            np.pad but the only other one that makes sense in a character array context</span>
<span class="sd">            is &#39;edge&#39;.</span>

<span class="sd">        fill : Tuple[str, int], optional</span>
<span class="sd">            The fill value for the &#39;char&#39; and &#39;alpha&#39; fields, by default (&#39; &#39;, 0)</span>

<span class="sd">        *args : tuple</span>
<span class="sd">            Positional arguments to np.pad.</span>

<span class="sd">        **kwargs : dict</span>
<span class="sd">            Keyword arguments to np.pad.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        np.ndarray</span>
<span class="sd">            A structured array with fields &#39;char&#39; and &#39;alpha&#39; padded with the fill value</span>
<span class="sd">            specified in the &#39;fill&#39; keyword argument.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        Let&#39;s use `Str2D` to create a structured array from a string and then pad it.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            from str2d import Str2D</span>

<span class="sd">            a = Str2D(&#39;a b c d\\ne f g\\nh i\\nj&#39;)</span>
<span class="sd">            a.char</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            array([[&#39;a&#39;, &#39; &#39;, &#39;b&#39;, &#39; &#39;, &#39;c&#39;, &#39; &#39;, &#39;d&#39;],</span>
<span class="sd">                   [&#39;e&#39;, &#39; &#39;, &#39;f&#39;, &#39; &#39;, &#39;g&#39;, &#39; &#39;, &#39; &#39;],</span>
<span class="sd">                   [&#39;h&#39;, &#39; &#39;, &#39;i&#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;],</span>
<span class="sd">                   [&#39;j&#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;]], dtype=&#39;&lt;U1&#39;)</span>

<span class="sd">        Now let&#39;s pad the structured array with the fill value &#39;.&#39;.  The first argument</span>
<span class="sd">        is the data.  The next argument is the number of padding elements to add to the</span>
<span class="sd">        beginning and end of each axis.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            Str2D.struct_pad(a.data, 1, fill=(&#39;.&#39;, 0))</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            array([[&#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;],</span>
<span class="sd">                   [&#39;.&#39;, &#39;a&#39;, &#39; &#39;, &#39;b&#39;, &#39; &#39;, &#39;c&#39;, &#39;d&#39;],</span>
<span class="sd">                   [&#39;.&#39;, &#39;e&#39;, &#39; &#39;, &#39;f&#39;, &#39; &#39;, &#39;g&#39;, &#39; &#39;],</span>
<span class="sd">                   [&#39;.&#39;, &#39;h&#39;, &#39; &#39;, &#39;i&#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;],</span>
<span class="sd">                   [&#39;.&#39;, &#39;j&#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;],</span>
<span class="sd">                   [&#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;]], dtype=&#39;&lt;U1&#39;)</span>

<span class="sd">        If we want to control the padding on each side of the array, we can pass a tuple</span>
<span class="sd">        of integers to the second argument.  The first integer is the number of padding</span>
<span class="sd">        elements to add to the beginning of each axis and the second integer is the</span>
<span class="sd">        number of padding elements to add to the end of each axis.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            Str2D.struct_pad(a.data, (1, 2), fill=(&#39;.&#39;, 0))</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            array([[&#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;],</span>
<span class="sd">                   [&#39;.&#39;, &#39;a&#39;, &#39; &#39;, &#39;b&#39;, &#39; &#39;, &#39;c&#39;, &#39; &#39;, &#39;d&#39;, &#39;.&#39;, &#39;.&#39;],</span>
<span class="sd">                   [&#39;.&#39;, &#39;e&#39;, &#39; &#39;, &#39;f&#39;, &#39; &#39;, &#39;g&#39;, &#39; &#39;, &#39; &#39;, &#39;.&#39;, &#39;.&#39;],</span>
<span class="sd">                   [&#39;.&#39;, &#39;h&#39;, &#39; &#39;, &#39;i&#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;, &#39;.&#39;, &#39;.&#39;],</span>
<span class="sd">                   [&#39;.&#39;, &#39;j&#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;, &#39;.&#39;, &#39;.&#39;],</span>
<span class="sd">                   [&#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;],</span>
<span class="sd">                   [&#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;]], dtype=&#39;&lt;U1&#39;)</span>

<span class="sd">        However, you can also control the padding on each side of the array by passing</span>
<span class="sd">        the number of padding elements to add to the beginning and end of each axis as</span>
<span class="sd">        as tuple of tuples. The first tuple is the number of padding elements to add to</span>
<span class="sd">        the beginning and end of the first axis and the second tuple is the number of</span>
<span class="sd">        padding elements to add to the beginning and end of the second axis.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            Str2D.struct_pad(a.data, ((1, 3), (2, 1)), fill=(&#39;.&#39;, 0))</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            array([[&#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;],</span>
<span class="sd">                   [&#39;.&#39;, &#39;.&#39;, &#39;a&#39;, &#39; &#39;, &#39;b&#39;, &#39; &#39;, &#39;c&#39;, &#39; &#39;, &#39;d&#39;, &#39;.&#39;],</span>
<span class="sd">                   [&#39;.&#39;, &#39;.&#39;, &#39;e&#39;, &#39; &#39;, &#39;f&#39;, &#39; &#39;, &#39;g&#39;, &#39; &#39;, &#39; &#39;, &#39;.&#39;],</span>
<span class="sd">                   [&#39;.&#39;, &#39;.&#39;, &#39;h&#39;, &#39; &#39;, &#39;i&#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;, &#39;.&#39;],</span>
<span class="sd">                   [&#39;.&#39;, &#39;.&#39;, &#39;j&#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;, &#39;.&#39;],</span>
<span class="sd">                   [&#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;],</span>
<span class="sd">                   [&#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;],</span>
<span class="sd">                   [&#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;.&#39;]], dtype=&#39;&lt;U1&#39;)</span>

<span class="sd">        Another thing we can do is to pass a different type of padding mode.  The</span>
<span class="sd">        default is &#39;constant&#39; which will fill the padding elements with the fill value.</span>
<span class="sd">        However, we can also use &#39;edge&#39; which will fill the padding elements with the</span>
<span class="sd">        nearest edge value.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            Str2D.struct_pad(a.data, 1, mode=&#39;edge&#39;)</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            array([[&#39;a&#39;, &#39;a&#39;, &#39; &#39;, &#39;b&#39;, &#39; &#39;, &#39;c&#39;, &#39; &#39;, &#39;d&#39;, &#39;d&#39;],</span>
<span class="sd">                   [&#39;a&#39;, &#39;a&#39;, &#39; &#39;, &#39;b&#39;, &#39; &#39;, &#39;c&#39;, &#39; &#39;, &#39;d&#39;, &#39;d&#39;],</span>
<span class="sd">                   [&#39;e&#39;, &#39;e&#39;, &#39; &#39;, &#39;f&#39;, &#39; &#39;, &#39;g&#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;],</span>
<span class="sd">                   [&#39;h&#39;, &#39;h&#39;, &#39; &#39;, &#39;i&#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;],</span>
<span class="sd">                   [&#39;j&#39;, &#39;j&#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;],</span>
<span class="sd">                   [&#39;j&#39;, &#39;j&#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;]], dtype=&#39;&lt;U1&#39;)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Using `np.pad` on structured arrays is a bit tricky because it doesn&#39;t</span>
        <span class="c1"># handle the structured array fields very well.  We need to pad the &#39;char&#39;</span>
        <span class="c1"># and &#39;alpha&#39; fields separately and then recombine them into a structured</span>
        <span class="c1"># array.</span>
        <span class="n">fill</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;fill&quot;</span><span class="p">,</span> <span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="n">char_fill</span><span class="p">,</span> <span class="n">alpha_fill</span> <span class="o">=</span> <span class="n">fill</span>

        <span class="n">char_kwargs</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">char_mode</span> <span class="o">=</span> <span class="n">char_kwargs</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;mode&quot;</span><span class="p">,</span> <span class="s2">&quot;constant&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">char_mode</span> <span class="o">==</span> <span class="s2">&quot;constant&quot;</span><span class="p">:</span>
            <span class="n">char_kwargs</span><span class="p">[</span><span class="s2">&quot;constant_values&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">char_fill</span>

        <span class="n">alpha_kwargs</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">alpha_mode</span> <span class="o">=</span> <span class="n">alpha_kwargs</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;mode&quot;</span><span class="p">,</span> <span class="s2">&quot;constant&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">alpha_mode</span> <span class="o">==</span> <span class="s2">&quot;constant&quot;</span><span class="p">:</span>
            <span class="n">alpha_kwargs</span><span class="p">[</span><span class="s2">&quot;constant_values&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">alpha_fill</span>

        <span class="n">char_pad</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">pad</span><span class="p">(</span><span class="n">array</span><span class="p">[</span><span class="s2">&quot;char&quot;</span><span class="p">],</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">char_kwargs</span><span class="p">)</span>
        <span class="n">alpha_pad</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">pad</span><span class="p">(</span><span class="n">array</span><span class="p">[</span><span class="s2">&quot;alpha&quot;</span><span class="p">],</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">alpha_kwargs</span><span class="p">)</span>
        <span class="n">padded_data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">char_pad</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">_dtype</span><span class="p">)</span>
        <span class="n">padded_data</span><span class="p">[</span><span class="s2">&quot;char&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">char_pad</span>
        <span class="n">padded_data</span><span class="p">[</span><span class="s2">&quot;alpha&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">alpha_pad</span>

        <span class="k">return</span> <span class="n">padded_data</span></div>


<div class="viewcode-block" id="Str2D.join_h">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.join_h.html#str2d.Str2D.join_h">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">join_h</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">,</span> <span class="n">sep</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;`join_h` joins any number of Str2D objects horizontally.  The `sep` is the</span>
<span class="sd">        separator that will be added between the joined data.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        args : Tuple[Str2D]</span>
<span class="sd">            The Str2D objects to join horizontally.</span>

<span class="sd">        sep : str, optional</span>
<span class="sd">            The separator to insert between the joined data, by default &#39;&#39;.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Str2D</span>
<span class="sd">            A new Str2D object with the joined data.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        join_v : Join the data vertically</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        Let&#39;s create several instances of Str2D and assign them to the variables `a`,</span>
<span class="sd">        `b`, and `c`.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            from str2d import Str2D</span>

<span class="sd">            a = Str2D(&#39;a b c d\\ne f g\\nh i\\nj&#39;)</span>
<span class="sd">            b = Str2D(&#39;1 2 3\\n4 5 6\\n7 8 9&#39;)</span>
<span class="sd">            c = Str2D(&#39;x y z\\nu v w\\nq r s&#39;)</span>

<span class="sd">        We can join the data horizontally by passing the Str2D objects to the `join_h`</span>
<span class="sd">        method.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            Str2D.join_h(a, b, c)</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            a b c d1 2 3x y z</span>
<span class="sd">            e f g  4 5 6u v w</span>
<span class="sd">            h i    7 8 9q r s</span>
<span class="sd">            j</span>

<span class="sd">        We can also pass a separator</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            Str2D.join_h(a, b, c, sep=&#39;|&#39;)</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            a b c d|1 2 3|x y z</span>
<span class="sd">            e f g  |4 5 6|u v w</span>
<span class="sd">            h i    |7 8 9|q r s</span>
<span class="sd">            j      |     |</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">sep</span><span class="p">:</span>
            <span class="n">args</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="nb">zip</span><span class="p">([</span><span class="n">sep</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">),</span> <span class="n">args</span><span class="p">),</span> <span class="p">())[</span><span class="mi">1</span><span class="p">:]</span>
        <span class="k">return</span> <span class="n">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span></div>


<div class="viewcode-block" id="Str2D.join_v">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.join_v.html#str2d.Str2D.join_v">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">join_v</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">,</span> <span class="n">sep</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;`join_v` joins any number of Str2D objects vertically.  The `sep` is the</span>
<span class="sd">        separator that will be added between the joined data.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        args : Tuple[Str2D]</span>
<span class="sd">            The Str2D objects to join vertically.</span>

<span class="sd">        sep : str, optional</span>
<span class="sd">            The separator to insert between the joined data, by default &#39;&#39;.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Str2D</span>
<span class="sd">            A new Str2D object with the joined data.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        join_h : Join the data horizontally.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        Let&#39;s create several instances of Str2D and assign them to the variables `a`,</span>
<span class="sd">        `b`, and `c`.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            from str2d import Str2D</span>

<span class="sd">            a = Str2D(&#39;a b c d\\ne f g\\nh i\\nj&#39;)</span>
<span class="sd">            b = Str2D(&#39;1 2 3\\n4 5 6\\n7 8 9&#39;)</span>
<span class="sd">            c = Str2D(&#39;x y z\\nu v w\\nq r s&#39;)</span>

<span class="sd">        We can join the data vertically by passing the Str2D objects to the `join_v`</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            Str2D.join_v(a, b, c)</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            a b c d</span>
<span class="sd">            e f g</span>
<span class="sd">            h i</span>
<span class="sd">            j</span>
<span class="sd">            1 2 3</span>
<span class="sd">            4 5 6</span>
<span class="sd">            7 8 9</span>
<span class="sd">            x y z</span>
<span class="sd">            u v w</span>
<span class="sd">            q r s</span>

<span class="sd">        We can also pass a separator</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            Str2D.join_v(a, b, c, sep=&#39;-&#39;)</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            a b c d</span>
<span class="sd">            e f g</span>
<span class="sd">            h i</span>
<span class="sd">            j</span>
<span class="sd">            -------</span>
<span class="sd">            1 2 3</span>
<span class="sd">            4 5 6</span>
<span class="sd">            7 8 9</span>
<span class="sd">            -------</span>
<span class="sd">            x y z</span>
<span class="sd">            u v w</span>
<span class="sd">            q r s</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">sep</span><span class="p">:</span>
            <span class="n">args</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="nb">zip</span><span class="p">([</span><span class="n">sep</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">),</span> <span class="n">args</span><span class="p">),</span> <span class="p">())[</span><span class="mi">1</span><span class="p">:]</span>
        <span class="k">return</span> <span class="n">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="o">/</span> <span class="n">y</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span></div>


<div class="viewcode-block" id="Str2D.equal_height">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.equal_height.html#str2d.Str2D.equal_height">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">equal_height</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;Str2D&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Expand each Str2D object to have the same height.  Useful for when you want</span>
<span class="sd">        all Str2D objects to have the same height.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        args : Tuple[Str2D]</span>
<span class="sd">            The Str2D objects to expand.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        List[Str2D]</span>
<span class="sd">            A list of Str2D objects with the same height.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">max_height</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">arg</span><span class="o">.</span><span class="n">height</span> <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">args</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">arg</span><span class="o">.</span><span class="n">expand</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="n">max_height</span> <span class="o">-</span> <span class="n">arg</span><span class="o">.</span><span class="n">height</span><span class="p">)</span> <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">args</span><span class="p">]</span></div>


<div class="viewcode-block" id="Str2D.equal_width">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.equal_width.html#str2d.Str2D.equal_width">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">equal_width</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;Str2D&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Expand each Str2D object to have the same width.  Useful for when you want</span>
<span class="sd">        all Str2D objects to have the same width.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        args : Tuple[Str2D]</span>
<span class="sd">            The Str2D objects to expand.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        List[Str2D]</span>
<span class="sd">            A list of Str2D objects with the same width.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">max_width</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">arg</span><span class="o">.</span><span class="n">width</span> <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">args</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">arg</span><span class="o">.</span><span class="n">expand</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">max_width</span> <span class="o">-</span> <span class="n">arg</span><span class="o">.</span><span class="n">width</span><span class="p">)</span> <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">args</span><span class="p">]</span></div>


<div class="viewcode-block" id="Str2D.equal_shape">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.equal_shape.html#str2d.Str2D.equal_shape">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">equal_shape</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;Str2D&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Expand each Str2D object to have the same shape.  Useful for when you want</span>
<span class="sd">        all Str2D objects to have the same shape.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        args : Tuple[Str2D]</span>
<span class="sd">            The Str2D objects to expand.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        List[Str2D]</span>
<span class="sd">            A list of Str2D objects with the same shape.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">max_height</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">arg</span><span class="o">.</span><span class="n">height</span> <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">args</span><span class="p">)</span>
        <span class="n">max_width</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">arg</span><span class="o">.</span><span class="n">width</span> <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">args</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">arg</span><span class="o">.</span><span class="n">expand</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">max_width</span> <span class="o">-</span> <span class="n">arg</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">max_height</span> <span class="o">-</span> <span class="n">arg</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">args</span>
        <span class="p">]</span></div>


    <span class="c1">####################################################################</span>
    <span class="c1"># Attribute properties #############################################</span>
    <span class="c1">####################################################################</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">height</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the height of the Str2D object.  This is the number of rows in the</span>
<span class="sd">        structured array or the number of lines in the string.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">width</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the width of the Str2D object.  This is the number of columns in the</span>
<span class="sd">        structured array or the maximum number of characters in a line in the string.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">shape</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the shape of the Str2D object.  This is a tuple containing the height</span>
<span class="sd">        and width of the structured array.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">char</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the character data.  Alternatively, you can access the &#39;char&#39; field</span>
<span class="sd">        directly by using the &#39;data&#39; attribute and the &#39;char&#39; key.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        Let&#39;s create an instance of Str2D and assign it to the variable `a`.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            from str2d import Str2D</span>

<span class="sd">            a = Str2D(&#39;a b c d\\ne f g\\nh i\\nj&#39;)</span>

<span class="sd">        We can access the &#39;char&#39; field directly by using the &#39;data&#39; attribute and the</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            a.data[&#39;char&#39;]</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            array([[&#39;a&#39;, &#39; &#39;, &#39;b&#39;, &#39; &#39;, &#39;c&#39;, &#39; &#39;, &#39;d&#39;],</span>
<span class="sd">                   [&#39;e&#39;, &#39; &#39;, &#39;f&#39;, &#39; &#39;, &#39;g&#39;, &#39; &#39;, &#39; &#39;],</span>
<span class="sd">                   [&#39;h&#39;, &#39; &#39;, &#39;i&#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;],</span>
<span class="sd">                   [&#39;j&#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;]], dtype=&#39;&lt;U1&#39;)</span>

<span class="sd">        This property is a shortcut to the above.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            a.char</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            array([[&#39;a&#39;, &#39; &#39;, &#39;b&#39;, &#39; &#39;, &#39;c&#39;, &#39; &#39;, &#39;d&#39;],</span>
<span class="sd">                   [&#39;e&#39;, &#39; &#39;, &#39;f&#39;, &#39; &#39;, &#39;g&#39;, &#39; &#39;, &#39; &#39;],</span>
<span class="sd">                   [&#39;h&#39;, &#39; &#39;, &#39;i&#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;],</span>
<span class="sd">                   [&#39;j&#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;, &#39; &#39;]], dtype=&#39;&lt;U1&#39;)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;char&quot;</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">alpha</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the alpha data.  Alternatively, you can access the &#39;alpha&#39; field</span>
<span class="sd">        directly by using the &#39;data&#39; attribute and the &#39;alpha&#39; key.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        Let&#39;s create an instance of Str2D and assign it to the variable `a`.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            from str2d import Str2D</span>

<span class="sd">            a = Str2D(&#39;a b c d\\ne f g\\nh i\\nj&#39;)</span>

<span class="sd">        We can access the &#39;alpha&#39; field directly by using the &#39;data&#39; attribute and the</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            a.data[&#39;alpha&#39;]</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            array([[1, 1, 1, 1, 1, 1, 1],</span>
<span class="sd">                   [1, 1, 1, 1, 1, 0, 0],</span>
<span class="sd">                   [1, 1, 1, 0, 0, 0, 0],</span>
<span class="sd">                   [1, 0, 0, 0, 0, 0, 0]], dtype=int8)</span>

<span class="sd">        This property is a shortcut to the above.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            a.alpha</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            array([[1, 1, 1, 1, 1, 1, 1],</span>
<span class="sd">                   [1, 1, 1, 1, 1, 0, 0],</span>
<span class="sd">                   [1, 1, 1, 0, 0, 0, 0],</span>
<span class="sd">                   [1, 0, 0, 0, 0, 0, 0]], dtype=int8)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;alpha&quot;</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">kwargs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the keyword arguments used to create the Str2D object.  This is a</span>
<span class="sd">        dictionary containing the &#39;halign&#39;, &#39;valign&#39;, and &#39;fill&#39; values.</span>

<span class="sd">        The purpose of this property is to make it easier to recreate the Str2D object</span>
<span class="sd">        with the same settings, helping persist the state of the object as it</span>
<span class="sd">        transforms.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;halign&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">halign</span><span class="p">,</span>
            <span class="s2">&quot;valign&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">valign</span><span class="p">,</span>
            <span class="s2">&quot;fill&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">fill</span><span class="p">,</span>
        <span class="p">}</span>

    <span class="c1">####################################################################</span>
    <span class="c1"># Transformations ##################################################</span>
    <span class="c1">####################################################################</span>

    <span class="n">TRANSFORMATIONS_DOCSTRING</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>

<span class="s2">        This is one of 5 transformations that can be done to the Str2D object.</span>

<span class="s2">        - `i` is the identity transformation of the data.</span>
<span class="s2">        - `t` is the transpose of the data.</span>
<span class="s2">        - `h` is the horizontal flip of the data.</span>
<span class="s2">        - `v` is the vertical flip of the data.</span>
<span class="s2">        - `r` is the 90 degree clockwise rotation of the data.</span>

<span class="s2">        Examples</span>
<span class="s2">        --------</span>

<span class="s2">        Let&#39;s create an instance of Str2D and assign it to the variable `a`.</span>

<span class="s2">        .. testcode::</span>

<span class="s2">            from str2d import Str2D</span>

<span class="s2">            a = Str2D(&#39;ab</span><span class="se">\\</span><span class="s2">ncd&#39;)</span>
<span class="s2">            a</span>

<span class="s2">        .. testoutput::</span>

<span class="s2">            ab</span>
<span class="s2">            cd</span>

<span class="s2">        Notice that this is a 2x2 array.  We&#39;ll show each of the transformations and </span>
<span class="s2">        intentionally expand and box them to show how the transformations affect the</span>
<span class="s2">        alignment.</span>
<span class="s2">    </span>
<span class="s2">        .. testcode::</span>

<span class="s2">            a.transormation_palette()</span>

<span class="s2">        .. testoutput::</span>

<span class="s2">               i    |    t    |    h     |     v     |    r     |    r2     |    r3    </span>
<span class="s2">            ╭────╮  | ╭────╮  |  ╭────╮  |  ╭────╮   |  ╭────╮  |  ╭────╮   |  ╭────╮  </span>
<span class="s2">            │ab  │  | │ac  │  |  │  ba│  |  │    │   |  │  ca│  |  │    │   |  │    │  </span>
<span class="s2">            │cd  │  | │bd  │  |  │  dc│  |  │    │   |  │  db│  |  │    │   |  │    │  </span>
<span class="s2">            │    │  | │    │  |  │    │  |  │cd  │   |  │    │  |  │  dc│   |  │bd  │  </span>
<span class="s2">            │    │  | │    │  |  │    │  |  │ab  │   |  │    │  |  │  ba│   |  │ac  │  </span>
<span class="s2">            ╰────╯  | ╰────╯  |  ╰────╯  |  ╰────╯   |  ╰────╯  |  ╰────╯   |  ╰────╯  </span>
<span class="s2">            ------- | ------- | -------- | --------- | -------- | --------- | ---------</span>
<span class="s2">            v: top  | v: top  | v: top   | v: bottom | v: top   | v: bottom | v: bottom</span>
<span class="s2">            h: left | h: left | h: right | h: left   | h: right | h: right  | h: left  </span>

<span class="s2">        Lastly, we can chain the transformations together.</span>

<span class="s2">        .. testcode::</span>

<span class="s2">            a.thirvt</span>

<span class="s2">        .. testoutput::</span>

<span class="s2">            bd</span>
<span class="s2">            ac        </span>

<span class="s2">    &quot;&quot;&quot;</span>

    <span class="nd">@cached_property</span>
    <span class="k">def</span> <span class="nf">t</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the transpose of the Str2D object.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Str2D</span><span class="p">(</span>
            <span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">T</span><span class="p">,</span>
            <span class="n">halign</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_align_transpose</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">valign</span><span class="p">],</span>
            <span class="n">valign</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_align_transpose</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">halign</span><span class="p">],</span>
            <span class="n">fill</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fill</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="n">t</span><span class="o">.</span><span class="vm">__doc__</span> <span class="o">+=</span> <span class="n">TRANSFORMATIONS_DOCSTRING</span>

    <span class="nd">@cached_property</span>
    <span class="k">def</span> <span class="nf">i</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;This is the identity transformation.  It returns the Str2D object as is.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="n">i</span><span class="o">.</span><span class="vm">__doc__</span> <span class="o">+=</span> <span class="n">TRANSFORMATIONS_DOCSTRING</span>

    <span class="nd">@cached_property</span>
    <span class="k">def</span> <span class="nf">h</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the horizontal flip of the data.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Str2D</span><span class="p">(</span>
            <span class="n">data</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">fliplr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">),</span>
            <span class="n">halign</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_align_horizontal</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">halign</span><span class="p">],</span>
            <span class="n">valign</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">valign</span><span class="p">,</span>
            <span class="n">fill</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fill</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="n">h</span><span class="o">.</span><span class="vm">__doc__</span> <span class="o">+=</span> <span class="n">TRANSFORMATIONS_DOCSTRING</span>

    <span class="nd">@cached_property</span>
    <span class="k">def</span> <span class="nf">v</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the vertical flip of the data.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Str2D</span><span class="p">(</span>
            <span class="n">data</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">flipud</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">),</span>
            <span class="n">halign</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">halign</span><span class="p">,</span>
            <span class="n">valign</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_align_vertical</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">valign</span><span class="p">],</span>
            <span class="n">fill</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fill</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="n">v</span><span class="o">.</span><span class="vm">__doc__</span> <span class="o">+=</span> <span class="n">TRANSFORMATIONS_DOCSTRING</span>

    <span class="nd">@cached_property</span>
    <span class="k">def</span> <span class="nf">r</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the 90 degree rotation of the data.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">t</span><span class="o">.</span><span class="n">h</span>

    <span class="n">r</span><span class="o">.</span><span class="vm">__doc__</span> <span class="o">+=</span> <span class="n">TRANSFORMATIONS_DOCSTRING</span>

<div class="viewcode-block" id="Str2D.__getattr__">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.__getattr__.html#str2d.Str2D.__getattr__">[docs]</a>
    <span class="k">def</span> <span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Enables convenient access to the transpose, horizontal flip, vertical flip,</span>
<span class="sd">        and rotation methods in a concatenated manner.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">p</span> <span class="o">:=</span> <span class="n">name</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;h&quot;</span><span class="p">,</span> <span class="s2">&quot;v&quot;</span><span class="p">,</span> <span class="s2">&quot;t&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span><span class="p">]:</span>
            <span class="n">this</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">this</span>
            <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">),</span> <span class="n">name</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
        <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">Str2D</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39; object has no attribute &#39;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span></div>


    <span class="fm">__getattr__</span><span class="o">.</span><span class="vm">__doc__</span> <span class="o">+=</span> <span class="n">TRANSFORMATIONS_DOCSTRING</span>

    <span class="c1">####################################################################</span>
    <span class="c1"># Information/Documentation ########################################</span>
    <span class="c1">####################################################################</span>

<div class="viewcode-block" id="Str2D.show_with_alignment">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.show_with_alignment.html#str2d.Str2D.show_with_alignment">[docs]</a>
    <span class="k">def</span> <span class="nf">show_with_alignment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Show the alignment parameters with object.</span>
<span class="sd">        This is useful for debugging and understanding how the alignment parameters</span>
<span class="sd">        affect the output.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        expand : int, optional</span>
<span class="sd">            The amount to expand the Str2D object, by default 2.</span>

<span class="sd">        box : bool, optional</span>
<span class="sd">            Whether to box the Str2D object, by default True.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Str2D</span>
<span class="sd">            A new Str2D object with the alignment parameters displayed as text.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        Let&#39;s create an instance of Str2D and assign it to the variable `a`.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            from str2d import Str2D</span>

<span class="sd">            a = Str2D(&#39;a b c d\\ne f g\\nh i\\nj&#39;)</span>

<span class="sd">        We can show the alignment parameters as part of a new Str2D object.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            a.show_with_alignment()</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            ╭─────────╮</span>
<span class="sd">            │a b c d  │</span>
<span class="sd">            │e f g    │</span>
<span class="sd">            │h i      │</span>
<span class="sd">            │j        │</span>
<span class="sd">            │         │</span>
<span class="sd">            │         │</span>
<span class="sd">            ╰─────────╯</span>
<span class="sd">            -----------</span>
<span class="sd">            v: top</span>
<span class="sd">            h: left</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">footer</span> <span class="o">=</span> <span class="n">Str2D</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;v: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">valign</span><span class="si">}</span><span class="se">\n</span><span class="s2">h: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">halign</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">body</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="k">if</span> <span class="n">expand</span><span class="p">:</span>
            <span class="n">body</span> <span class="o">=</span> <span class="n">body</span><span class="o">.</span><span class="n">expand</span><span class="p">(</span><span class="n">expand</span><span class="p">,</span> <span class="n">expand</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">box</span><span class="p">:</span>
            <span class="n">body</span> <span class="o">=</span> <span class="n">body</span><span class="o">.</span><span class="n">box</span><span class="p">()</span><span class="o">.</span><span class="n">view</span>

        <span class="n">body</span> <span class="o">=</span> <span class="n">Str2D</span><span class="p">(</span><span class="n">body</span><span class="p">,</span> <span class="n">valign</span><span class="o">=</span><span class="s2">&quot;middle&quot;</span><span class="p">,</span> <span class="n">halign</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">)</span>

        <span class="n">sep</span> <span class="o">=</span> <span class="n">Str2D</span><span class="p">(</span><span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="nb">max</span><span class="p">(</span><span class="n">body</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">footer</span><span class="o">.</span><span class="n">width</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">body</span> <span class="o">/</span> <span class="n">sep</span> <span class="o">/</span> <span class="n">footer</span></div>


<div class="viewcode-block" id="Str2D.transormation_palette">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.transormation_palette.html#str2d.Str2D.transormation_palette">[docs]</a>
    <span class="k">def</span> <span class="nf">transormation_palette</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot; | &quot;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Show the transformation palette.  This is a visual representation of the</span>
<span class="sd">        identity, transpose, horizontal flip, vertical flip, and 90 degree rotation of</span>
<span class="sd">        the data.  The transformations are shown with alignment parameters and can be</span>
<span class="sd">        expanded and boxed.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        sep : str, optional</span>
<span class="sd">            The separator between the transformations, by default &#39; | &#39;.</span>

<span class="sd">        expand : int, optional</span>
<span class="sd">            The amount to expand the Str2D object, by default 2.</span>

<span class="sd">        box : bool, optional</span>
<span class="sd">            Whether to box the Str2D object, by default True.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        show_with_alignment : Show the alignment parameters as part of a new Str2D</span>
<span class="sd">            object.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Str2D</span>
<span class="sd">            A new Str2D object with the transformations displayed.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        Let&#39;s create an instance of Str2D and assign it to the variable `a`.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            from str2d import Str2D</span>

<span class="sd">            a = Str2D(&#39;ab\\ncd&#39;)</span>

<span class="sd">        We can show the transformation palette.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            a.transormation_palette()</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">               i    |    t    |    h     |     v     |    r     |    r2     |    r3</span>
<span class="sd">            ╭────╮  | ╭────╮  |  ╭────╮  |  ╭────╮   |  ╭────╮  |  ╭────╮   |  ╭────╮</span>
<span class="sd">            │ab  │  | │ac  │  |  │  ba│  |  │    │   |  │  ca│  |  │    │   |  │    │</span>
<span class="sd">            │cd  │  | │bd  │  |  │  dc│  |  │    │   |  │  db│  |  │    │   |  │    │</span>
<span class="sd">            │    │  | │    │  |  │    │  |  │cd  │   |  │    │  |  │  dc│   |  │bd  │</span>
<span class="sd">            │    │  | │    │  |  │    │  |  │ab  │   |  │    │  |  │  ba│   |  │ac  │</span>
<span class="sd">            ╰────╯  | ╰────╯  |  ╰────╯  |  ╰────╯   |  ╰────╯  |  ╰────╯   |  ╰────╯</span>
<span class="sd">            ------- | ------- | -------- | --------- | -------- | --------- | ---------</span>
<span class="sd">            v: top  | v: top  | v: top   | v: bottom | v: top   | v: bottom | v: bottom</span>
<span class="sd">            h: left | h: left | h: right | h: left   | h: right | h: right  | h: left</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">i</span><span class="o">.</span><span class="n">show_with_alignment</span><span class="p">(</span><span class="n">expand</span><span class="o">=</span><span class="n">expand</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="p">)</span>
        <span class="n">t</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">t</span><span class="o">.</span><span class="n">show_with_alignment</span><span class="p">(</span><span class="n">expand</span><span class="o">=</span><span class="n">expand</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="p">)</span>
        <span class="n">h</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">h</span><span class="o">.</span><span class="n">show_with_alignment</span><span class="p">(</span><span class="n">expand</span><span class="o">=</span><span class="n">expand</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="p">)</span>
        <span class="n">v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">v</span><span class="o">.</span><span class="n">show_with_alignment</span><span class="p">(</span><span class="n">expand</span><span class="o">=</span><span class="n">expand</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="p">)</span>
        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">show_with_alignment</span><span class="p">(</span><span class="n">expand</span><span class="o">=</span><span class="n">expand</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="p">)</span>
        <span class="n">rr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rr</span><span class="o">.</span><span class="n">show_with_alignment</span><span class="p">(</span><span class="n">expand</span><span class="o">=</span><span class="n">expand</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="p">)</span>
        <span class="n">rrr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rrr</span><span class="o">.</span><span class="n">show_with_alignment</span><span class="p">(</span><span class="n">expand</span><span class="o">=</span><span class="n">expand</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">join_h</span><span class="p">(</span>
            <span class="n">Str2D</span><span class="p">(</span><span class="s2">&quot;i&quot;</span><span class="p">,</span> <span class="n">halign</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">)</span> <span class="o">/</span> <span class="n">i</span><span class="p">,</span>
            <span class="n">Str2D</span><span class="p">(</span><span class="s2">&quot;t&quot;</span><span class="p">,</span> <span class="n">halign</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">)</span> <span class="o">/</span> <span class="n">t</span><span class="p">,</span>
            <span class="n">Str2D</span><span class="p">(</span><span class="s2">&quot;h&quot;</span><span class="p">,</span> <span class="n">halign</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">)</span> <span class="o">/</span> <span class="n">h</span><span class="p">,</span>
            <span class="n">Str2D</span><span class="p">(</span><span class="s2">&quot;v&quot;</span><span class="p">,</span> <span class="n">halign</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">)</span> <span class="o">/</span> <span class="n">v</span><span class="p">,</span>
            <span class="n">Str2D</span><span class="p">(</span><span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">halign</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">)</span> <span class="o">/</span> <span class="n">r</span><span class="p">,</span>
            <span class="n">Str2D</span><span class="p">(</span><span class="s2">&quot;r2&quot;</span><span class="p">,</span> <span class="n">halign</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">)</span> <span class="o">/</span> <span class="n">rr</span><span class="p">,</span>
            <span class="n">Str2D</span><span class="p">(</span><span class="s2">&quot;r3&quot;</span><span class="p">,</span> <span class="n">halign</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">)</span> <span class="o">/</span> <span class="n">rrr</span><span class="p">,</span>
            <span class="n">sep</span><span class="o">=</span><span class="n">sep</span><span class="p">,</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="Str2D.pre">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.pre.html#str2d.Str2D.pre">[docs]</a>
    <span class="k">def</span> <span class="nf">pre</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HTML</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return HTML prefformatted text.  This is useful for displaying the Str2D</span>
<span class="sd">        with different style settings in Jupyter notebooks.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        font_size : int, optional</span>
<span class="sd">            The font size, by default 1.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        HTML</span>
<span class="sd">            The HTML preformatted text.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">pre</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


    <span class="c1">####################################################################</span>
    <span class="c1"># Methods ##########################################################</span>
    <span class="c1">####################################################################</span>

<div class="viewcode-block" id="Str2D.roll">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.roll.html#str2d.Str2D.roll">[docs]</a>
    <span class="k">def</span> <span class="nf">roll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">axis</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Roll the data along an axis.  Analogous and wrapper to np.roll.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        x : int</span>
<span class="sd">            The number of positions to roll.</span>
<span class="sd">        axis : int</span>
<span class="sd">            The axis to roll along.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>

<span class="sd">        Str2D</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        Let&#39;s create an instance of Str2D and assign it to the variable `a`.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            from str2d import Str2D</span>

<span class="sd">            a = Str2D(&#39;a b c d\\ne f g\\nh i\\nj&#39;)</span>

<span class="sd">        We can roll the data horizontally by passing the number of positions to roll and</span>
<span class="sd">        the axis equal to 1.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            a.roll(1, axis=1)</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            da b c</span>
<span class="sd">             e f g</span>
<span class="sd">             h i</span>
<span class="sd">             j</span>

<span class="sd">        We can roll the data vertically by passing the number of positions to roll and</span>
<span class="sd">        the axis equal to 0.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            a.roll(1, axis=0)</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            j</span>
<span class="sd">            a b c d</span>
<span class="sd">            e f g</span>
<span class="sd">            h i</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">Str2D</span><span class="p">(</span>
            <span class="n">data</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">roll</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">axis</span><span class="p">),</span>
            <span class="n">halign</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">halign</span><span class="p">,</span>
            <span class="n">valign</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">valign</span><span class="p">,</span>
            <span class="n">fill</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fill</span><span class="p">,</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="Str2D.roll_h">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.roll_h.html#str2d.Str2D.roll_h">[docs]</a>
    <span class="nd">@lru_cache</span>
    <span class="k">def</span> <span class="nf">roll_h</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Roll the data horizontally.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        x : int</span>
<span class="sd">            The number of positions to roll.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Str2D</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        Let&#39;s create an instance of Str2D and assign it to the variable `a`.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            from str2d import Str2D</span>

<span class="sd">            a = Str2D(&#39;a b c d\\ne f g\\nh i\\nj&#39;)</span>

<span class="sd">        We can roll the data horizontally by passing the number of positions to roll.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            a.roll_h(1)</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            da b c</span>
<span class="sd">             e f g</span>
<span class="sd">             h i</span>
<span class="sd">             j</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">roll</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></div>


<div class="viewcode-block" id="Str2D.roll_v">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.roll_v.html#str2d.Str2D.roll_v">[docs]</a>
    <span class="nd">@lru_cache</span>
    <span class="k">def</span> <span class="nf">roll_v</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Roll the data vertically.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        x : int</span>
<span class="sd">            The number of positions to roll.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Str2D</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        Let&#39;s create an instance of Str2D and assign it to the variable `a`.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            from str2d import Str2D</span>

<span class="sd">            a = Str2D(&#39;a b c d\\ne f g\\nh i\\nj&#39;)</span>

<span class="sd">        We can roll the data vertically by passing the number of positions to roll.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            a.roll_v(1)</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            j</span>
<span class="sd">            a b c d</span>
<span class="sd">            e f g</span>
<span class="sd">            h i</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">roll</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></div>


<div class="viewcode-block" id="Str2D.pad">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.pad.html#str2d.Str2D.pad">[docs]</a>
    <span class="k">def</span> <span class="nf">pad</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;`pad` pads the data with the fill value specified in the &#39;fill&#39; keyword and</span>
<span class="sd">        is a wrapper around the class method `struct_pad` which in turn is a wrapper</span>
<span class="sd">        around np.pad.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        fill : Tuple[str, int], optional</span>
<span class="sd">            The fill value for the &#39;char&#39; and &#39;alpha&#39; fields, by default (&#39; &#39;, 0)</span>

<span class="sd">        mode: str, optional</span>
<span class="sd">            The padding mode, by default &#39;constant&#39;.  Other options are documented in</span>
<span class="sd">            np.pad but the only other one that makes sense in a character array context</span>
<span class="sd">            is &#39;edge&#39;.</span>

<span class="sd">        args : tuple</span>
<span class="sd">            Positional arguments to np.pad.</span>

<span class="sd">        kwargs : dict</span>
<span class="sd">            Keyword arguments to np.pad.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Str2D</span>
<span class="sd">            A new Str2D object with the padded data.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        Let&#39;s create an instance of Str2D and assign it to the variable `a` and then pad</span>
<span class="sd">        it.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            from str2d import Str2D</span>

<span class="sd">            a = Str2D(&#39;a b c d\\ne f g\\nh i\\nj&#39;)</span>
<span class="sd">            a</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            a b c d</span>
<span class="sd">            e f g</span>
<span class="sd">            h i</span>
<span class="sd">            j</span>

<span class="sd">        Now let&#39;s pad the structured array with the fill value &#39;.&#39;.  The first argument</span>
<span class="sd">        is the number of padding elements to add to the beginning and end of each axis.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            a.pad(1, fill=(&#39;.&#39;, 0))</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            .........</span>
<span class="sd">            .a b c d.</span>
<span class="sd">            .e f g  .</span>
<span class="sd">            .h i    .</span>
<span class="sd">            .j      .</span>
<span class="sd">            .........</span>

<span class="sd">        If we want to control the padding on each side, we can pass a tuple of integers</span>
<span class="sd">        to the first argument.  The first integer is the number of padding elements to</span>
<span class="sd">        add to the beginning of each axis and the second integer is the number of</span>
<span class="sd">        padding elements to add to the end of each axis.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            a.pad((1, 2), fill=(&#39;.&#39;, 0))</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            ..........</span>
<span class="sd">            .a b c d..</span>
<span class="sd">            .e f g  ..</span>
<span class="sd">            .h i    ..</span>
<span class="sd">            .j      ..</span>
<span class="sd">            ..........</span>
<span class="sd">            ..........</span>

<span class="sd">        However, you can also control the padding on each side of the array by passing</span>
<span class="sd">        the number of padding elements to add to the beginning and end of each axis as</span>
<span class="sd">        as tuple of tuples. The first tuple is the number of padding elements to add to</span>
<span class="sd">        the beginning and end of the first axis and the second tuple is the number of</span>
<span class="sd">        padding elements to add to the beginning and end of the second axis.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            a.pad(((1, 3), (2, 1)), fill=(&#39;.&#39;, 0))</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            ..........</span>
<span class="sd">            ..a b c d.</span>
<span class="sd">            ..e f g  .</span>
<span class="sd">            ..h i    .</span>
<span class="sd">            ..j      .</span>
<span class="sd">            ..........</span>
<span class="sd">            ..........</span>
<span class="sd">            ..........</span>

<span class="sd">        Another thing we can do is to pass a different type of padding mode.  The</span>
<span class="sd">        default is &#39;constant&#39; which will fill the padding elements with the fill value.</span>
<span class="sd">        However, we can also use &#39;edge&#39; which will fill the padding elements with the</span>
<span class="sd">        nearest edge value.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            a.pad(1, mode=&#39;edge&#39;)</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            aa b c dd</span>
<span class="sd">            aa b c dd</span>
<span class="sd">            ee f g</span>
<span class="sd">            hh i</span>
<span class="sd">            jj</span>
<span class="sd">            jj</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kwargs</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;fill&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fill</span><span class="p">)</span>
        <span class="n">padded_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">struct_pad</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">Str2D</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">padded_data</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="Str2D.expand">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.expand.html#str2d.Str2D.expand">[docs]</a>
    <span class="k">def</span> <span class="nf">expand</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The `expand` method expands the data by adding padding to the top, bottom,</span>
<span class="sd">        left, and right of the data.  This is a wrapper around the `pad` method where</span>
<span class="sd">        we take into account the alignment parameters and adjust the padding</span>
<span class="sd">        accordingly.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        x : int, optional</span>
<span class="sd">            The number of columns to expand, by default 0.</span>

<span class="sd">        y : int, optional</span>
<span class="sd">            The number of rows to expand, by default 0.</span>

<span class="sd">        kwargs : dict</span>
<span class="sd">            Additional keyword arguments to pass to the pad method.</span>


<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Str2D</span>
<span class="sd">            A new Str2D object with the expanded data.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        Let&#39;s create an instance of Str2D and assign it to the variable `a` and then</span>
<span class="sd">        expand it.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            from str2d import Str2D</span>

<span class="sd">            a = Str2D(&#39;a b c d\\ne f g\\nh i\\nj&#39;)</span>

<span class="sd">        We can expand the data by passing the number of columns and rows to expand.  In</span>
<span class="sd">        order to see the expansion, we&#39;ll use a fill value of &#39;.&#39;.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            a.expand(1, 1, fill=&#39;.&#39;)</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            a b c d.</span>
<span class="sd">            e f g  .</span>
<span class="sd">            h i    .</span>
<span class="sd">            j      .</span>
<span class="sd">            ........</span>

<span class="sd">        Let&#39;s see what happens when the alignment is set to &#39;center&#39; and &#39;middle&#39;.  We</span>
<span class="sd">        use an `x` value of 4 and a `y` value of 2 to add 4 columns and 2 rows.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            a = Str2D(</span>
<span class="sd">                &#39;a b c d\\ne f g  \\nh i    \\nj      &#39;,</span>
<span class="sd">                valign=&#39;middle&#39;, halign=&#39;center&#39;</span>
<span class="sd">            )</span>

<span class="sd">            a.expand(4, 2, fill=&#39;.&#39;)</span>

<span class="sd">            ...........</span>
<span class="sd">            ..a b c d..</span>
<span class="sd">            ..e f g  ..</span>
<span class="sd">            ..h i    ..</span>
<span class="sd">            ..j      ..</span>
<span class="sd">            ...........</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;fill&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">validate_fill</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fill&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fill</span><span class="p">))</span>
        <span class="n">top</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">halign</span> <span class="o">==</span> <span class="s2">&quot;center&quot;</span><span class="p">:</span>
            <span class="n">left</span> <span class="o">=</span> <span class="n">x</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">halign</span> <span class="o">==</span> <span class="s2">&quot;right&quot;</span><span class="p">:</span>
            <span class="n">left</span> <span class="o">=</span> <span class="n">x</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">valign</span> <span class="o">==</span> <span class="s2">&quot;middle&quot;</span><span class="p">:</span>
            <span class="n">top</span> <span class="o">=</span> <span class="n">y</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">valign</span> <span class="o">==</span> <span class="s2">&quot;bottom&quot;</span><span class="p">:</span>
            <span class="n">top</span> <span class="o">=</span> <span class="n">y</span>
        <span class="n">right</span> <span class="o">=</span> <span class="n">x</span> <span class="o">-</span> <span class="n">left</span>
        <span class="n">bottom</span> <span class="o">=</span> <span class="n">y</span> <span class="o">-</span> <span class="n">top</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pad</span><span class="p">(((</span><span class="n">top</span><span class="p">,</span> <span class="n">bottom</span><span class="p">),</span> <span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">)),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="Str2D.split">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.split.html#str2d.Str2D.split">[docs]</a>
    <span class="k">def</span> <span class="nf">split</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">indices_or_sections</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;Str2D&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;`split` is analogous to np.split and splits the data along an axis.  It&#39;ll</span>
<span class="sd">        return a list of Str2D objects split along the specified axis at the specified</span>
<span class="sd">        indices.</span>

<span class="sd">        The `ary` being passed to `np.split` is the structured array data.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        indices_or_sections : int or 1-D array</span>
<span class="sd">            If `indices_or_sections` is an integer, N, the array will be divided</span>
<span class="sd">            into N equal arrays along `axis`.  If such a split is not possible,</span>
<span class="sd">            an error is raised.</span>

<span class="sd">            If `indices_or_sections` is a 1-D array of sorted integers, the entries</span>
<span class="sd">            indicate where along `axis` the array is split.  For example,</span>
<span class="sd">            ``[2, 3]`` would, for ``axis=0``, result in</span>

<span class="sd">            - ary[:2]</span>
<span class="sd">            - ary[2:3]</span>
<span class="sd">            - ary[3:]</span>

<span class="sd">            If an index exceeds the dimension of the array along `axis`,</span>
<span class="sd">            an empty sub-array is returned correspondingly.</span>

<span class="sd">        axis : int, optional</span>
<span class="sd">            The axis along which to split, default is 0.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        List[Str2D]</span>
<span class="sd">            A list of Str2D applied to the split data.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            If `indices_or_sections` is given as an integer, but</span>
<span class="sd">            a split does not result in equal division.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        insert : Insert a separator between the split data.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        Let&#39;s create an instance of Str2D and assign it to the variable `a` and then</span>
<span class="sd">        split it.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            from str2d import Str2D</span>

<span class="sd">            a = Str2D(&#39;abcdef\\nghijkl\\nmnopqr\\nstuvwx&#39;)</span>
<span class="sd">            a</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            abcdef</span>
<span class="sd">            ghijkl</span>
<span class="sd">            mnopqr</span>
<span class="sd">            stuvwx</span>

<span class="sd">        We can split the data into 3 equal parts along the vertical axis.  We&#39;ll use the</span>
<span class="sd">        complementary `insert` method to join the split data back together to help</span>
<span class="sd">        visualize the split.</span>

<span class="sd">        Two equal parts along the vertical axis.</span>
<span class="sd">        .. testcode::</span>

<span class="sd">            a.split(2)</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            [abcdef</span>
<span class="sd">            ghijkl,</span>
<span class="sd">            mnopqr</span>
<span class="sd">            stuvwx]</span>

<span class="sd">        Using the `insert` method to join the split data back together.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            a.insert(2)</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            abcdef</span>
<span class="sd">            ghijkl</span>

<span class="sd">            mnopqr</span>
<span class="sd">            stuvwx</span>

<span class="sd">        3 equal parts along the horizontal axis.</span>
<span class="sd">        Remember that we&#39;re using the `insert` method to show the data.  Use the `split`</span>
<span class="sd">        method to get the split data as a list.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            a.insert(3, axis=1)</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            ab cd ef</span>
<span class="sd">            gh ij kl</span>
<span class="sd">            mn op qr</span>
<span class="sd">            st uv wx</span>

<span class="sd">        Split the data at first and fifth columns.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            a.insert([1, 5], axis=1)</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            a bcde f</span>
<span class="sd">            g hijk l</span>
<span class="sd">            m nopq r</span>
<span class="sd">            s tuvw x</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">Str2D</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">divided</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">divided</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">indices_or_sections</span><span class="p">,</span> <span class="n">axis</span><span class="p">)</span>
        <span class="p">]</span></div>


<div class="viewcode-block" id="Str2D.insert">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.insert.html#str2d.Str2D.insert">[docs]</a>
    <span class="k">def</span> <span class="nf">insert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">indices_or_sections</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot; &quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;`insert` is a wrapper around the `split` method and is used to visually</span>
<span class="sd">        insert a separator between the split data.  The `sep` is the separator that will</span>
<span class="sd">        be added between the split data.</span>

<span class="sd">        If the `sep` is not an empty string, it will be added between the concatenated</span>
<span class="sd">        data. If the `sep` is an empty string, the data will be concatenated without any</span>
<span class="sd">        separation and wll resemble the original data.  This would be silly to do but</span>
<span class="sd">        it&#39;s a good way to indicate that the method is doing what it&#39;s supposed to do.</span>

<span class="sd">        The actual intention is to use a separator to visually separate the data.</span>

<span class="sd">        The `ary` being passed to `np.split` is the structured array data.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        indices_or_sections : int or 1-D array</span>
<span class="sd">            If `indices_or_sections` is an integer, N, the array will be divided</span>
<span class="sd">            into N equal arrays along `axis`.  If such a split is not possible,</span>
<span class="sd">            an error is raised.</span>

<span class="sd">            If `indices_or_sections` is a 1-D array of sorted integers, the entries</span>
<span class="sd">            indicate where along `axis` the array is split.  For example,</span>
<span class="sd">            ``[2, 3]`` would, for ``axis=0``, result in</span>

<span class="sd">            - ary[:2]</span>
<span class="sd">            - ary[2:3]</span>
<span class="sd">            - ary[3:]</span>

<span class="sd">            If an index exceeds the dimension of the array along `axis`,</span>
<span class="sd">            an empty sub-array is returned correspondingly.</span>

<span class="sd">        axis : int, optional</span>
<span class="sd">            The axis along which to split, default is 0.</span>

<span class="sd">        sep : str, optional</span>
<span class="sd">            The separator to insert between the split data, by default &#39; &#39;.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Str2D</span>
<span class="sd">            A new Str2D object with the split data and separator.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        split : Split the data along an axis.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        Let&#39;s create an instance of Str2D and assign it to the variable `a` and then</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            from str2d import Str2D</span>

<span class="sd">            a = Str2D(&#39;abcdef\\nghijkl\\nmnopqr\\nstuvwx&#39;)</span>
<span class="sd">            a</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            abcdef</span>
<span class="sd">            ghijkl</span>
<span class="sd">            mnopqr</span>
<span class="sd">            stuvwx</span>

<span class="sd">        Let&#39;s `insert` 4 equal parts along the vertical axis with a separator of &#39;-&#39;</span>
<span class="sd">        followed by an `insert` of 3 equal parts along the horizontal axis with a</span>
<span class="sd">        separator of &#39;|&#39;.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            a.insert(4, sep=&#39;-&#39;).insert(3, axis=1, sep=&#39;|&#39;)</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            ab|cd|ef</span>
<span class="sd">            --|--|--</span>
<span class="sd">            gh|ij|kl</span>
<span class="sd">            --|--|--</span>
<span class="sd">            mn|op|qr</span>
<span class="sd">            --|--|--</span>
<span class="sd">            st|uv|wx</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">axis</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">Str2D</span><span class="o">.</span><span class="n">join_v</span><span class="p">(</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">indices_or_sections</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">axis</span><span class="p">),</span> <span class="n">sep</span><span class="o">=</span><span class="n">sep</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">Str2D</span><span class="o">.</span><span class="n">join_h</span><span class="p">(</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">indices_or_sections</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">axis</span><span class="p">),</span> <span class="n">sep</span><span class="o">=</span><span class="n">sep</span><span class="p">)</span></div>


<div class="viewcode-block" id="Str2D.__getitem__">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.__getitem__.html#str2d.Str2D.__getitem__">[docs]</a>
    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">key</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">slice</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">slice</span><span class="p">],</span> <span class="o">...</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">slice</span><span class="p">]]],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Passing on the indexing to the structured array data.  This is a wrapper</span>
<span class="sd">        around the structured array data&#39;s __getitem__ method and returns a new Str2D</span>
<span class="sd">        object with the sliced data.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        key : Union[int, slice, Tuple[Union[int, slice], ...], List[Union[int, slice]]</span>
<span class="sd">            The index or slice to pass to the structured array data.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Str2D</span>
<span class="sd">            A new Str2D object with the sliced data.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        Let&#39;s create an instance of Str2D and assign it to the variable `a`.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            from str2d import Str2D</span>

<span class="sd">            a = Str2D(&#39;&#39;&#39;\\</span>
<span class="sd">            012345</span>
<span class="sd">            123450</span>
<span class="sd">            234501</span>
<span class="sd">            345012</span>
<span class="sd">            &#39;&#39;&#39;)</span>
<span class="sd">            a</span>
<span class="sd">        .. testoutput::</span>

<span class="sd">            012345</span>
<span class="sd">            123450</span>
<span class="sd">            234501</span>
<span class="sd">            345012</span>

<span class="sd">        We can slice the data by passing a tuple of slices.  The first slice is for the</span>
<span class="sd">        rows and the second slice is for the columns.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            a[:-2, 1:]</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            12345</span>
<span class="sd">            23450</span>
<span class="sd">        </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="n">new_key</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(([</span><span class="n">k</span><span class="p">]</span> <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">isscalar</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="k">else</span> <span class="n">k</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">key</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">np</span><span class="o">.</span><span class="n">isscalar</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
            <span class="n">new_key</span> <span class="o">=</span> <span class="p">[</span><span class="n">key</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">new_key</span> <span class="o">=</span> <span class="n">key</span>

        <span class="k">return</span> <span class="n">Str2D</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">new_key</span><span class="p">],</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="Str2D.circle">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.circle.html#str2d.Str2D.circle">[docs]</a>
    <span class="k">def</span> <span class="nf">circle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">radius</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">char</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;*&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str3D&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a circle over object. This is a wrapper around the `circle` function</span>
<span class="sd">        and returns a new Str3D object with the circle over the data.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        radius : float</span>
<span class="sd">            The radius of the circle.  The minimum of the height and width of the data</span>
<span class="sd">            is used as a reference for the radius equal to 1.</span>

<span class="sd">        char : str, optional</span>
<span class="sd">            The character to use for the circle, by default &#39;*&#39;.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Str3D</span>
<span class="sd">            A new Str3D object with the circle over the data.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        hole : Create a hole over the data.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        Let&#39;s create an instance of Str2D and assign it to the variable `a` and then</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            from str2d import Str2D</span>

<span class="sd">            a = 3 * Str2D(&#39;abcdef\\nghijkl\\nmnopqr\\nstuvwx&#39;) * 4</span>
<span class="sd">            a</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            abcdefabcdefabcdefabcdef</span>
<span class="sd">            ghijklghijklghijklghijkl</span>
<span class="sd">            mnopqrmnopqrmnopqrmnopqr</span>
<span class="sd">            stuvwxstuvwxstuvwxstuvwx</span>
<span class="sd">            abcdefabcdefabcdefabcdef</span>
<span class="sd">            ghijklghijklghijklghijkl</span>
<span class="sd">            mnopqrmnopqrmnopqrmnopqr</span>
<span class="sd">            stuvwxstuvwxstuvwxstuvwx</span>
<span class="sd">            abcdefabcdefabcdefabcdef</span>
<span class="sd">            ghijklghijklghijklghijkl</span>
<span class="sd">            mnopqrmnopqrmnopqrmnopqr</span>
<span class="sd">            stuvwxstuvwxstuvwxstuvwx</span>

<span class="sd">        We can create a circle over the data.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            a.circle(1, char=&#39; &#39;)</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            abcde              bcdef</span>
<span class="sd">            ghi   ghijklghijkl   jkl</span>
<span class="sd">            m   qrmnopqrmnopqrmn   r</span>
<span class="sd">              uvwxstuvwxstuvwxstuv</span>
<span class="sd">             bcdefabcdefabcdefabcde</span>
<span class="sd">             hijklghijklghijklghijk</span>
<span class="sd">             nopqrmnopqrmnopqrmnopq</span>
<span class="sd">             tuvwxstuvwxstuvwxstuvw</span>
<span class="sd">              cdefabcdefabcdefabcd</span>
<span class="sd">            g   klghijklghijklgh   l</span>
<span class="sd">            mno   mnopqrmnopqr   pqr</span>
<span class="sd">            stuvw              tuvwx</span>


<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">circle</span><span class="p">(</span><span class="n">radius</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">char</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">Str3D</span><span class="p">([</span><span class="n">c</span><span class="p">,</span> <span class="bp">self</span><span class="p">])</span></div>


<div class="viewcode-block" id="Str2D.hole">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.hole.html#str2d.Str2D.hole">[docs]</a>
    <span class="k">def</span> <span class="nf">hole</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">radius</span><span class="p">,</span> <span class="n">char</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a hole over the object. This is a wrapper around the `hole` function and</span>
<span class="sd">        returns a new Str3D object with the hole over the data.  This effectively hides</span>
<span class="sd">        the surrounding data and only shows the hole.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        radius : float</span>
<span class="sd">            The radius of the hole.  The minimum of the height and width of the data is</span>
<span class="sd">            used as a reference for the radius equal to 1.</span>

<span class="sd">        char : str, optional</span>
<span class="sd">            The character to use for the hole, by default &#39;*&#39;.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Str3D</span>
<span class="sd">            A new Str3D object with the hole over the data.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        circle : Create a circle over the data.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        Let&#39;s create an instance of Str2D and assign it to the variable `a` and then</span>
<span class="sd">        create a hole over it.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            from str2d import Str2D</span>

<span class="sd">            a = 3 * Str2D(&#39;abcdef\\nghijkl\\nmnopqr\\nstuvwx&#39;) * 4</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            abcdefabcdefabcdefabcdef</span>
<span class="sd">            ghijklghijklghijklghijkl</span>
<span class="sd">            mnopqrmnopqrmnopqrmnopqr</span>
<span class="sd">            stuvwxstuvwxstuvwxstuvwx</span>
<span class="sd">            abcdefabcdefabcdefabcdef</span>
<span class="sd">            ghijklghijklghijklghijkl</span>
<span class="sd">            mnopqrmnopqrmnopqrmnopqr</span>
<span class="sd">            stuvwxstuvwxstuvwxstuvwx</span>
<span class="sd">            abcdefabcdefabcdefabcdef</span>
<span class="sd">            ghijklghijklghijklghijkl</span>
<span class="sd">            mnopqrmnopqrmnopqrmnopqr</span>
<span class="sd">            stuvwxstuvwxstuvwxstuvwx</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            a.hole(1, char=&#39; &#39;)</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">                   bcdefabcde</span>
<span class="sd">                klghijklghijklgh</span>
<span class="sd">              opqrmnopqrmnopqrmnop</span>
<span class="sd">             tuvwxstuvwxstuvwxstuvw</span>
<span class="sd">            abcdefabcdefabcdefabcdef</span>
<span class="sd">            ghijklghijklghijklghijkl</span>
<span class="sd">            mnopqrmnopqrmnopqrmnopqr</span>
<span class="sd">            stuvwxstuvwxstuvwxstuvwx</span>
<span class="sd">             bcdefabcdefabcdefabcde</span>
<span class="sd">              ijklghijklghijklghij</span>
<span class="sd">                qrmnopqrmnopqrmn</span>
<span class="sd">                   tuvwxstuvw</span>


<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">hole</span><span class="p">(</span><span class="n">radius</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">char</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">Str3D</span><span class="p">([</span><span class="n">c</span><span class="p">,</span> <span class="bp">self</span><span class="p">])</span></div>


    <span class="k">def</span> <span class="nf">box_over</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">style</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">BoxStyle</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">BoxStyle</span><span class="o">.</span><span class="n">SINGLE_ROUND</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str3D&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a box over the data.  The difference between this and `box_around` is</span>
<span class="sd">        that this method creates a box over the data and the other method creates a box</span>
<span class="sd">        around the data.  The box that is created will cover the edges of the data.</span>
<span class="sd">        This is useful when preserving the size is important.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        style : Union[BoxStyle, str], optional</span>
<span class="sd">            The style of the box, by default BoxStyle.single_round.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Str3D</span>
<span class="sd">            A new Str3D object with the box over the data.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        box_around : Create a box around the data.</span>
<span class="sd">        box : Create a box around the data.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        Let&#39;s create an instance of Str2D and assign it to the variable `a` and then</span>
<span class="sd">        create a box over it.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            from str2d import Str2D</span>

<span class="sd">            a = Str2D(&#39;abcdef\\nghijkl\\nmnopqr\\nstuvwx&#39;)</span>
<span class="sd">            a</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            abcdef</span>
<span class="sd">            ghijkl</span>
<span class="sd">            mnopqr</span>
<span class="sd">            stuvwx</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            a.box_over()</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            ╭────╮</span>
<span class="sd">            │hijk│</span>
<span class="sd">            │nopq│</span>
<span class="sd">            ╰────╯</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">box</span> <span class="o">=</span> <span class="n">Box</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="n">style</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">Str3D</span><span class="p">([</span><span class="n">box</span><span class="p">,</span> <span class="bp">self</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">box_around</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">style</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">BoxStyle</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">BoxStyle</span><span class="o">.</span><span class="n">SINGLE_ROUND</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str3D&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a box around the data.  The difference between this and `box_over` is</span>
<span class="sd">        that this method creates a box around the data and the other method creates a</span>
<span class="sd">        box over the data.  The box that is created will surround the data.  This is</span>
<span class="sd">        useful when preserving the content is important.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        style : Union[BoxStyle, str], optional</span>
<span class="sd">            The style of the box, by default BoxStyle.single_round.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Str3D</span>
<span class="sd">            A new Str3D object with the box around the data.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        box_over : Create a box over the data.</span>
<span class="sd">        box : Create a box around the data.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        Let&#39;s create an instance of Str2D and assign it to the variable `a` and then</span>
<span class="sd">        create a box around it.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            from str2d import Str2D</span>

<span class="sd">            a = Str2D(&#39;abcdef\\nghijkl\\nmnopqr\\nstuvwx&#39;)</span>
<span class="sd">            a</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            abcdef</span>
<span class="sd">            ghijkl</span>
<span class="sd">            mnopqr</span>
<span class="sd">            stuvwx</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            a.box_around()</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            ╭──────╮</span>
<span class="sd">            │abcdef│</span>
<span class="sd">            │ghijkl│</span>
<span class="sd">            │mnopqr│</span>
<span class="sd">            │stuvwx│</span>
<span class="sd">            ╰──────╯</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">s</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pad</span><span class="p">(((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)))</span>
        <span class="n">box</span> <span class="o">=</span> <span class="n">Box</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">],</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">],</span> <span class="n">style</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">Str3D</span><span class="p">([</span><span class="n">box</span><span class="p">,</span> <span class="n">s</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">box</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">style</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">BoxStyle</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">BoxStyle</span><span class="o">.</span><span class="n">SINGLE_ROUND</span><span class="p">,</span> <span class="n">around</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str3D&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Wrapper around `box_over` and `box_around` methods.  This method will create</span>
<span class="sd">        a box around or over the data.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        style : str, optional</span>
<span class="sd">            The style of the box, by default &quot;single_round&quot;.</span>

<span class="sd">        around : bool, optional</span>
<span class="sd">            Whether to create a box around the data or over the data, by default True.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Str3D</span>
<span class="sd">            A new Str3D object with the box around or over the data.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        box_over : Create a box over the data.</span>
<span class="sd">        box_around : Create a box around the data.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        Let&#39;s create an instance of Str2D and assign it to the variable `a` and then</span>
<span class="sd">        create a box around it.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            from str2d import Str2D</span>

<span class="sd">            a = Str2D(&#39;abcdef\\nghijkl\\nmnopqr\\nstuvwx&#39;)</span>
<span class="sd">            a</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            abcdef</span>
<span class="sd">            ghijkl</span>
<span class="sd">            mnopqr</span>
<span class="sd">            stuvwx</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            a.box()</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            ╭──────╮</span>
<span class="sd">            │abcdef│</span>
<span class="sd">            │ghijkl│</span>
<span class="sd">            │mnopqr│</span>
<span class="sd">            │stuvwx│</span>
<span class="sd">            ╰──────╯</span>

<span class="sd">        We can also create a box over the data.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            a.box(around=False)</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            ╭────╮</span>
<span class="sd">            │hijk│</span>
<span class="sd">            │nopq│</span>
<span class="sd">            ╰────╯</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">around</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">box_around</span><span class="p">(</span><span class="n">style</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">box_over</span><span class="p">(</span><span class="n">style</span><span class="p">)</span>

<div class="viewcode-block" id="Str2D.pi">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.pi.html#str2d.Str2D.pi">[docs]</a>
    <span class="k">def</span> <span class="nf">pi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Replace the data with digits of pi.  This is a wrapper around the `pi`</span>
<span class="sd">        function and returns a new Str2D object with the data replaced with the digits</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Str2D</span>
<span class="sd">            A new Str2D object with the data replaced with the digits of pi.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        Let&#39;s create an instance of Str2D and assign it to the variable `a` and then</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            from str2d import Str2D</span>

<span class="sd">            a = Str2D(&#39;abcdef\\nghijkl\\nmnopqr\\nstuvwx&#39;)</span>
<span class="sd">            a</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            abcdef</span>
<span class="sd">            ghijkl</span>
<span class="sd">            mnopqr</span>
<span class="sd">            stuvwx</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            a.pi()</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            3.1415</span>
<span class="sd">            926535</span>
<span class="sd">            897932</span>
<span class="sd">            384626</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;alpha&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">nonzero</span><span class="p">()</span>
        <span class="n">old_dps</span> <span class="o">=</span> <span class="n">mp</span><span class="o">.</span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="n">mp</span><span class="o">.</span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span> <span class="o">=</span> <span class="n">n</span>
        <span class="n">data</span><span class="p">[</span><span class="s2">&quot;char&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="o">*</span><span class="nb">str</span><span class="p">(</span><span class="n">mp</span><span class="o">.</span><span class="n">pi</span><span class="p">)][:</span><span class="n">n</span><span class="p">]</span>
        <span class="n">mp</span><span class="o">.</span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span> <span class="o">=</span> <span class="n">old_dps</span>
        <span class="k">return</span> <span class="n">Str2D</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="Str2D.e">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.e.html#str2d.Str2D.e">[docs]</a>
    <span class="k">def</span> <span class="nf">e</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Replace the data with digits of e.  This is a wrapper around the `e`</span>
<span class="sd">        function and returns a new Str2D object with the data replaced with the digits</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Str2D</span>
<span class="sd">            A new Str2D object with the data replaced with the digits of e.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        Let&#39;s create an instance of Str2D and assign it to the variable `a` and then</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            from str2d import Str2D</span>

<span class="sd">            a = Str2D(&#39;abcdef\\nghijkl\\nmnopqr\\nstuvwx&#39;)</span>
<span class="sd">            a</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            abcdef</span>
<span class="sd">            ghijkl</span>
<span class="sd">            mnopqr</span>
<span class="sd">            stuvwx</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            a.e()</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            2.7182</span>
<span class="sd">            818284</span>
<span class="sd">            590452</span>
<span class="sd">            353602</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;alpha&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">nonzero</span><span class="p">()</span>
        <span class="n">old_dps</span> <span class="o">=</span> <span class="n">mp</span><span class="o">.</span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="n">mp</span><span class="o">.</span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span> <span class="o">=</span> <span class="n">n</span>
        <span class="n">data</span><span class="p">[</span><span class="s2">&quot;char&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="o">*</span><span class="nb">str</span><span class="p">(</span><span class="n">mp</span><span class="o">.</span><span class="n">e</span><span class="p">)][:</span><span class="n">n</span><span class="p">]</span>
        <span class="n">mp</span><span class="o">.</span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span> <span class="o">=</span> <span class="n">old_dps</span>
        <span class="k">return</span> <span class="n">Str2D</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="Str2D.phi">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.phi.html#str2d.Str2D.phi">[docs]</a>
    <span class="k">def</span> <span class="nf">phi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Replace the data with digits of phi.  This is a wrapper around the `phi`</span>
<span class="sd">        function and returns a new Str2D object with the data replaced with the digits</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Str2D</span>
<span class="sd">            A new Str2D object with the data replaced with the digits of phi.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        Let&#39;s create an instance of Str2D and assign it to the variable `a` and then</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            from str2d import Str2D</span>

<span class="sd">            a = Str2D(&#39;abcdef\\nghijkl\\nmnopqr\\nstuvwx&#39;)</span>
<span class="sd">            a</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            abcdef</span>
<span class="sd">            ghijkl</span>
<span class="sd">            mnopqr</span>
<span class="sd">            stuvwx</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            a.phi()</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            1.6180</span>
<span class="sd">            339887</span>
<span class="sd">            498948</span>
<span class="sd">            482045</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;alpha&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">nonzero</span><span class="p">()</span>
        <span class="n">old_dps</span> <span class="o">=</span> <span class="n">mp</span><span class="o">.</span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="n">mp</span><span class="o">.</span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span> <span class="o">=</span> <span class="n">n</span>
        <span class="n">data</span><span class="p">[</span><span class="s2">&quot;char&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="o">*</span><span class="nb">str</span><span class="p">(</span><span class="n">mp</span><span class="o">.</span><span class="n">phi</span><span class="p">)][:</span><span class="n">n</span><span class="p">]</span>
        <span class="n">mp</span><span class="o">.</span><span class="n">mp</span><span class="o">.</span><span class="n">dps</span> <span class="o">=</span> <span class="n">old_dps</span>
        <span class="k">return</span> <span class="n">Str2D</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="Str2D.hide">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.hide.html#str2d.Str2D.hide">[docs]</a>
    <span class="k">def</span> <span class="nf">hide</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">char</span><span class="o">=</span><span class="s2">&quot; &quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Hide where character array is char.  This sets the alpha array to 0 where the</span>
<span class="sd">        character array is equal to char.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        char : str, optional</span>
<span class="sd">            The character to hide, by default &#39; &#39;.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Str2D</span>
<span class="sd">            A new Str2D object with the data hidden.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        Let&#39;s create an instance of Str2D and assign it to the variable `a` and then</span>
<span class="sd">        hide the data.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            from str2d import Str2D</span>

<span class="sd">            a = Str2D(&#39;abcdef\\nghijkl\\nmnopqr\\nstuvwx&#39;)</span>
<span class="sd">            a</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            abcdef</span>
<span class="sd">            ghijkl</span>
<span class="sd">            mnopqr</span>
<span class="sd">            stuvwx</span>


<span class="sd">        The hiddent data doesn&#39;t replace the character with a space but sets the alpha</span>
<span class="sd">        array to 0 where the character array is equal to the character to hide.  So, in</span>
<span class="sd">        a singular context, we can still see the character and must fill the 0s with a</span>
<span class="sd">        character to hide the data.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            a.hide(char=&#39;m&#39;).fill_with(char=&#39; &#39;)</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            abcdef</span>
<span class="sd">            ghijkl</span>
<span class="sd">            mno qr</span>
<span class="sd">            stuvwx</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="o">=</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;char&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">char</span><span class="p">)</span><span class="o">.</span><span class="n">nonzero</span><span class="p">()</span>
        <span class="n">data</span><span class="p">[</span><span class="s2">&quot;alpha&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="n">Str2D</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="Str2D.fill_with">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.fill_with.html#str2d.Str2D.fill_with">[docs]</a>
    <span class="k">def</span> <span class="nf">fill_with</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">char</span><span class="o">=</span><span class="s2">&quot; &quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Fill the data with the character.  This is a wrapper around the `fill` method</span>
<span class="sd">        from the structured array data.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        char : str, optional</span>
<span class="sd">            The character to fill with, by default &#39; &#39;.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Str2D</span>
<span class="sd">            A new Str2D object with the data filled with the character.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        hide : Hide the data.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        Let&#39;s create an instance of Str2D and assign it to the variable `a` and then</span>
<span class="sd">        fill.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            from str2d import Str2D</span>

<span class="sd">            a = Str2D(&#39;abcdefg\\nhijklm\\nnopqr\\nstuv\\nwxy\\nz&#39;)</span>
<span class="sd">            a</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            abcdefg</span>
<span class="sd">            hijklm</span>
<span class="sd">            nopqr</span>
<span class="sd">            stuv</span>
<span class="sd">            wxy</span>
<span class="sd">            z</span>

<span class="sd">        We can fill the data with a character.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            a.fill_with(char=&#39;.&#39;)</span>

<span class="sd">            abcdefg</span>
<span class="sd">            hijklm.</span>
<span class="sd">            nopqr..</span>
<span class="sd">            stuv...</span>
<span class="sd">            wxy....</span>
<span class="sd">            z......</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;fill&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">char</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;alpha&quot;</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;char&quot;</span><span class="p">],</span> <span class="n">char</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">Str2D</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the string representation of the data.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s2">&quot;char&quot;</span><span class="p">])</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">])</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the string representation of the data.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="c1">####################################################################</span>
    <span class="c1"># String operations whose result is a new Str2D ####################</span>
    <span class="c1">####################################################################</span>
<div class="viewcode-block" id="Str2D.lower">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.lower.html#str2d.Str2D.lower">[docs]</a>
    <span class="k">def</span> <span class="nf">lower</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the lowercase version of the data.&quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">data</span><span class="p">[</span><span class="s2">&quot;char&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">char</span><span class="o">.</span><span class="n">lower</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;char&quot;</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">Str2D</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="Str2D.upper">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.upper.html#str2d.Str2D.upper">[docs]</a>
    <span class="k">def</span> <span class="nf">upper</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the uppercase version of the data.&quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">data</span><span class="p">[</span><span class="s2">&quot;char&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">char</span><span class="o">.</span><span class="n">upper</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;char&quot;</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">Str2D</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="Str2D.replace">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.replace.html#str2d.Str2D.replace">[docs]</a>
    <span class="k">def</span> <span class="nf">replace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">old</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">new</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Replace the data.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        old : str</span>
<span class="sd">            The string to replace.</span>

<span class="sd">        new : str</span>
<span class="sd">            The string to replace with.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Str2D</span>
<span class="sd">            A new Str2D object with the data replaced.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            If the length of the old and new strings are not the same.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">old</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">new</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;old and new must have the same length.&quot;</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">data</span><span class="p">[</span><span class="s2">&quot;char&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">char</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;char&quot;</span><span class="p">],</span> <span class="n">old</span><span class="p">,</span> <span class="n">new</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">Str2D</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="Str2D.title">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.title.html#str2d.Str2D.title">[docs]</a>
    <span class="k">def</span> <span class="nf">title</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the title version of the data.&quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">char</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;char&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">ravel</span><span class="p">())</span><span class="o">.</span><span class="n">title</span><span class="p">()</span>
        <span class="n">data</span><span class="p">[</span><span class="s2">&quot;char&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">char</span><span class="p">))</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;char&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">Str2D</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="Str2D.strip">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.strip.html#str2d.Str2D.strip">[docs]</a>
    <span class="k">def</span> <span class="nf">strip</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Strip line by line.  Return the stripped version of the data.  This is a</span>
<span class="sd">        wrapper around the `strip` method from the str class.&quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">char</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">row</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;char&quot;</span><span class="p">]]</span>
        <span class="k">return</span> <span class="n">Str2D</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">char</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="Str2D.lstrip">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.lstrip.html#str2d.Str2D.lstrip">[docs]</a>
    <span class="k">def</span> <span class="nf">lstrip</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Left strip line by line.  Return the left stripped version of the data.  This</span>
<span class="sd">        is a wrapper around the `lstrip` method from the str class.&quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">char</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">row</span><span class="p">)</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;char&quot;</span><span class="p">]]</span>
        <span class="k">return</span> <span class="n">Str2D</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">char</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="Str2D.rstrip">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.rstrip.html#str2d.Str2D.rstrip">[docs]</a>
    <span class="k">def</span> <span class="nf">rstrip</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Right strip line by line.  Return the right stripped version of the data.</span>
<span class="sd">        This is a wrapper around the `rstrip` method from the str class.&quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">char</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">row</span><span class="p">)</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;char&quot;</span><span class="p">]]</span>
        <span class="k">return</span> <span class="n">Str2D</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">char</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">)</span></div>


    <span class="c1">####################################################################</span>
    <span class="c1"># String operations whose result is a new boolean array ############</span>
    <span class="c1">####################################################################</span>
<div class="viewcode-block" id="Str2D.isdigit">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.isdigit.html#str2d.Str2D.isdigit">[docs]</a>
    <span class="k">def</span> <span class="nf">isdigit</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return whether the data is a digit.&quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">data</span><span class="p">[</span><span class="s2">&quot;alpha&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">char</span><span class="o">.</span><span class="n">isdigit</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;char&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">&quot;int8&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">Str2D</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">)</span></div>


    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return whether the data is equal to the other data.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;char&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">other</span>
            <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">==</span> <span class="n">other</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Str2D</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;char&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;char&quot;</span><span class="p">]</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;other must be a Str2D object or a scalar.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return whether the data is not equal to the other data.&quot;&quot;&quot;</span>
        <span class="n">eq</span> <span class="o">=</span> <span class="bp">self</span> <span class="o">==</span> <span class="n">other</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">eq</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="k">return</span> <span class="ow">not</span> <span class="n">eq</span>
        <span class="k">return</span> <span class="o">~</span><span class="n">eq</span>

<div class="viewcode-block" id="Str2D.strip2d">
<a class="viewcode-back" href="../_str2d/generated/str2d.Str2D.strip2d.html#str2d.Str2D.strip2d">[docs]</a>
    <span class="k">def</span> <span class="nf">strip2d</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">char</span><span class="o">=</span><span class="s2">&quot; &quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str2D&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Strip the data 2-dimensionally.  This method checks how much it can trim from</span>
<span class="sd">        each side of the data before it reaches a non-matching character.  It then trims</span>
<span class="sd">        the data accordingly.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        char : str, optional</span>
<span class="sd">            The character to strip, by default &#39; &#39;.  This is the character that will be</span>
<span class="sd">            trimmed from the data.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Str2D</span>
<span class="sd">            A new Str2D object with the data stripped.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        Let&#39;s create an instance of Str2D and assign it to the variable `a` and then</span>
<span class="sd">        strip the data.</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            from str2d import Str2D</span>

<span class="sd">            a = Str2D(&#39;&#39;&#39;\\</span>
<span class="sd">            ............</span>
<span class="sd">            ...xxxxxxx..</span>
<span class="sd">            ...xxxxxxx..</span>
<span class="sd">            ...xxxxxxx..</span>
<span class="sd">            ............</span>
<span class="sd">            ............</span>
<span class="sd">            &#39;&#39;&#39;)</span>

<span class="sd">        Striping &#39;.&#39; from the data will leave just the core of &#39;x&#39;s.</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            a.strip2d(char=&#39;.&#39;)</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            xxxxxxx</span>
<span class="sd">            xxxxxxx</span>
<span class="sd">            xxxxxxx</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">mask</span> <span class="o">=</span> <span class="bp">self</span> <span class="o">!=</span> <span class="n">char</span>
        <span class="n">x0</span><span class="p">,</span> <span class="n">x1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">flatnonzero</span><span class="p">(</span><span class="n">mask</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))[[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
        <span class="n">y0</span><span class="p">,</span> <span class="n">y1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">flatnonzero</span><span class="p">(</span><span class="n">mask</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">))[[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">[</span><span class="n">x0</span> <span class="p">:</span> <span class="n">x1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">y0</span> <span class="p">:</span> <span class="n">y1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span></div>
</div>



<span class="k">class</span> <span class="nc">Box</span><span class="p">(</span><span class="n">Str2D</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Subclass of Str2D that is a Box or Window.</span>
<span class="sd">    I wanted to be able to make window pains with arbitrary number of rows and columns.</span>

<span class="sd">    I had to override the transformation methods `i`, `t`, `h`, `v`, and `r` because I</span>
<span class="sd">    wanted to preserve the box characters orientation.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    spec_v : List[int], optional</span>
<span class="sd">        The vertical specification, by default None.  This is a list of integers that</span>
<span class="sd">        represent the height of the rows.</span>

<span class="sd">    spec_h : List[int], optional</span>
<span class="sd">        The horizontal specification, by default None.  This is a list of integers that</span>
<span class="sd">        represent the width of the columns.</span>

<span class="sd">    style : Union[BoxStyle, str], optional</span>
<span class="sd">        The style of the box, by default BoxStyle.SINGLE_ROUND.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    Let&#39;s create a box with a single round style.</span>

<span class="sd">    .. testcode::</span>

<span class="sd">        from str2d import Box</span>

<span class="sd">        Box(spec_v=[1, 2, 3], spec_h=[1, 2, 3])</span>

<span class="sd">    .. testoutput::</span>

<span class="sd">        ╭─┬──┬───╮</span>
<span class="sd">        │ │  │   │</span>
<span class="sd">        ├─┼──┼───┤</span>
<span class="sd">        │ │  │   │</span>
<span class="sd">        │ │  │   │</span>
<span class="sd">        ├─┼──┼───┤</span>
<span class="sd">        │ │  │   │</span>
<span class="sd">        │ │  │   │</span>
<span class="sd">        │ │  │   │</span>
<span class="sd">        ╰─┴──┴───╯</span>


<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">spec_to_positions</span><span class="p">(</span><span class="n">spec</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert a specification to positions.&quot;&quot;&quot;</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">spec</span><span class="p">)</span>
        <span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">add</span><span class="o">.</span><span class="n">accumulate</span><span class="p">(</span><span class="n">spec</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">(([</span><span class="mi">0</span><span class="p">],</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">))</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">spec_to_len</span><span class="p">(</span><span class="n">spec</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert a specification to length.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">spec</span><span class="p">)</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">spec</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">spec_v</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">spec_h</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">style</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">BoxStyle</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">BoxStyle</span><span class="o">.</span><span class="n">SINGLE_ROUND</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Box&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a box around the data.&quot;&quot;&quot;</span>

        <span class="n">spec_v</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">if</span> <span class="n">spec_v</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">spec_v</span>
        <span class="n">spec_h</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">if</span> <span class="n">spec_h</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">spec_h</span>
        <span class="n">pos_v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">spec_to_positions</span><span class="p">(</span><span class="n">spec_v</span><span class="p">)</span>
        <span class="n">pos_h</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">spec_to_positions</span><span class="p">(</span><span class="n">spec_h</span><span class="p">)</span>
        <span class="n">height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">spec_to_len</span><span class="p">(</span><span class="n">spec_v</span><span class="p">)</span>
        <span class="n">width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">spec_to_len</span><span class="p">(</span><span class="n">spec_h</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">style</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">style</span> <span class="o">=</span> <span class="n">BoxStyle</span><span class="p">[</span><span class="n">style</span><span class="o">.</span><span class="n">upper</span><span class="p">()]</span>
        <span class="n">chars</span> <span class="o">=</span> <span class="n">style</span><span class="o">.</span><span class="n">value</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">spec_v</span> <span class="o">=</span> <span class="n">spec_v</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">spec_h</span> <span class="o">=</span> <span class="n">spec_h</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">style</span> <span class="o">=</span> <span class="n">style</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_v</span> <span class="o">=</span> <span class="n">pos_v</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_h</span> <span class="o">=</span> <span class="n">pos_h</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chars</span> <span class="o">=</span> <span class="n">chars</span>

        <span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">((</span><span class="n">height</span><span class="p">,</span> <span class="n">width</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">Str2D</span><span class="o">.</span><span class="n">_dtype</span><span class="p">)</span>
        <span class="n">data</span><span class="o">.</span><span class="n">fill</span><span class="p">((</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assign_box_char</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">assign_box_char</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Assign the box characters.&quot;&quot;&quot;</span>

        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span>
        <span class="n">pos_v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pos_v</span>
        <span class="n">pos_h</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pos_h</span>
        <span class="n">chars</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">chars</span>

        <span class="n">data</span><span class="p">[:,</span> <span class="n">pos_h</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">chars</span><span class="o">.</span><span class="n">v</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">data</span><span class="p">[</span><span class="n">pos_v</span><span class="p">,</span> <span class="p">:]</span> <span class="o">=</span> <span class="p">(</span><span class="n">chars</span><span class="o">.</span><span class="n">h</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

        <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">pos_h</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">chars</span><span class="o">.</span><span class="n">t</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">data</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">pos_h</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">chars</span><span class="o">.</span><span class="n">b</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

        <span class="n">data</span><span class="p">[</span><span class="n">pos_v</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">chars</span><span class="o">.</span><span class="n">l</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">data</span><span class="p">[</span><span class="n">pos_v</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">chars</span><span class="o">.</span><span class="n">r</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

        <span class="n">data</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ix_</span><span class="p">(</span><span class="n">pos_v</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">pos_h</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">])]</span> <span class="o">=</span> <span class="p">(</span><span class="n">chars</span><span class="o">.</span><span class="n">c</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

        <span class="n">pos_v_corners</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
        <span class="n">pos_h_corners</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
        <span class="n">corners</span> <span class="o">=</span> <span class="p">[[(</span><span class="n">chars</span><span class="o">.</span><span class="n">ul</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="n">chars</span><span class="o">.</span><span class="n">ur</span><span class="p">,</span> <span class="mi">1</span><span class="p">)],</span> <span class="p">[(</span><span class="n">chars</span><span class="o">.</span><span class="n">ll</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="n">chars</span><span class="o">.</span><span class="n">lr</span><span class="p">,</span> <span class="mi">1</span><span class="p">)]]</span>
        <span class="n">data</span><span class="p">[</span><span class="n">pos_v_corners</span><span class="p">,</span> <span class="n">pos_h_corners</span><span class="p">]</span> <span class="o">=</span> <span class="n">corners</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="nd">@cached_property</span>
    <span class="k">def</span> <span class="nf">t</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the transpose of the data.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Box</span><span class="p">(</span><span class="n">spec_v</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">spec_h</span><span class="p">,</span> <span class="n">spec_h</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">spec_v</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="p">)</span>

    <span class="nd">@cached_property</span>
    <span class="k">def</span> <span class="nf">h</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the horizontal flip of the data.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Box</span><span class="p">(</span><span class="n">spec_v</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">spec_v</span><span class="p">,</span> <span class="n">spec_h</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">spec_h</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">style</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="p">)</span>

    <span class="nd">@cached_property</span>
    <span class="k">def</span> <span class="nf">v</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the vertical flip of the data.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Box</span><span class="p">(</span><span class="n">spec_v</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">spec_v</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">spec_h</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">spec_h</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="p">)</span>

    <span class="nd">@cached_property</span>
    <span class="k">def</span> <span class="nf">r</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the 90 degree rotation of the data.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">t</span><span class="o">.</span><span class="n">h</span>


<span class="k">class</span> <span class="nc">Str3D</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Manipulate 3D strings in Python.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a Str3D object.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">source</span> <span class="o">=</span> <span class="n">data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">stack</span><span class="p">([</span><span class="n">datum</span><span class="o">.</span><span class="n">data</span> <span class="k">for</span> <span class="n">datum</span> <span class="ow">in</span> <span class="n">data</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update the data.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">stack</span><span class="p">([</span><span class="n">datum</span><span class="o">.</span><span class="n">data</span> <span class="k">for</span> <span class="n">datum</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">source</span><span class="p">])</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the string representation of the data.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">view</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the string representation of the data.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="nd">@cached_property</span>
    <span class="k">def</span> <span class="nf">t</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the transpose of the data.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Str3D</span><span class="p">([</span><span class="n">datum</span><span class="o">.</span><span class="n">t</span> <span class="k">for</span> <span class="n">datum</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">source</span><span class="p">])</span>

    <span class="nd">@cached_property</span>
    <span class="k">def</span> <span class="nf">h</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the horizontal flip of the data.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Str3D</span><span class="p">([</span><span class="n">datum</span><span class="o">.</span><span class="n">h</span> <span class="k">for</span> <span class="n">datum</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">source</span><span class="p">])</span>

    <span class="nd">@cached_property</span>
    <span class="k">def</span> <span class="nf">v</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the vertical flip of the data.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Str3D</span><span class="p">([</span><span class="n">datum</span><span class="o">.</span><span class="n">v</span> <span class="k">for</span> <span class="n">datum</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">source</span><span class="p">])</span>

    <span class="nd">@cached_property</span>
    <span class="k">def</span> <span class="nf">r</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the 90 degree rotation of the data.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">t</span><span class="o">.</span><span class="n">h</span>

    <span class="nd">@lru_cache</span>
    <span class="k">def</span> <span class="nf">roll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Str3D&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Roll the data along an axis.&quot;&quot;&quot;</span>

        <span class="n">layer</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;layer&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">layer</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">Str3D</span><span class="p">([</span><span class="n">datum</span><span class="o">.</span><span class="n">roll</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="k">for</span> <span class="n">datum</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">source</span><span class="p">])</span>

        <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">isscalar</span><span class="p">(</span><span class="n">layer</span><span class="p">):</span>
            <span class="n">layer</span> <span class="o">=</span> <span class="p">[</span><span class="n">layer</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">Str3D</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="n">datum</span> <span class="k">if</span> <span class="n">i</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">layer</span> <span class="k">else</span> <span class="n">datum</span><span class="o">.</span><span class="n">roll</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">datum</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">source</span><span class="p">)</span>
            <span class="p">]</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">view</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the view of the data.&quot;&quot;&quot;</span>
        <span class="n">argmax</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;alpha&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span>
        <span class="n">y_indices</span><span class="p">,</span> <span class="n">x_indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ogrid</span><span class="p">[:</span><span class="n">height</span><span class="p">,</span> <span class="p">:</span><span class="n">width</span><span class="p">]</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">argmax</span><span class="p">,</span> <span class="n">y_indices</span><span class="p">,</span> <span class="n">x_indices</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">Str2D</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Enables convenient access to the transpose, horizontal flip, vertical flip,</span>
<span class="sd">        and rotation methods in a concatenated manner.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">view</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">view</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
        <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">Str3D</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39; object has no attribute &#39;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">space</span><span class="p">(</span><span class="n">mn</span><span class="p">,</span> <span class="n">mx</span><span class="p">,</span> <span class="n">w</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a space.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">w</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">w</span><span class="si">=}</span><span class="s2"> must be &gt;= 1&quot;</span><span class="p">)</span>

    <span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">mn</span><span class="p">,</span> <span class="n">mx</span><span class="p">,</span> <span class="n">w</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">a</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">(</span><span class="n">a</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>


<span class="k">def</span> <span class="nf">region</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">x_range</span><span class="p">,</span> <span class="n">y_range</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a region.&quot;&quot;&quot;</span>
    <span class="n">_</span><span class="p">,</span> <span class="n">center</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">space</span><span class="p">(</span><span class="o">*</span><span class="n">x_range</span><span class="p">,</span> <span class="n">width</span><span class="p">)</span>
    <span class="n">_</span><span class="p">,</span> <span class="n">middle</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">space</span><span class="p">(</span><span class="o">*</span><span class="n">y_range</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">height</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="n">center</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="n">middle</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>


<span class="k">def</span> <span class="nf">boundary</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">x_range</span><span class="p">,</span> <span class="n">y_range</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a boundary.&quot;&quot;&quot;</span>
    <span class="n">left</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">space</span><span class="p">(</span><span class="o">*</span><span class="n">x_range</span><span class="p">,</span> <span class="n">width</span><span class="p">)</span>
    <span class="n">bottom</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">top</span> <span class="o">=</span> <span class="n">space</span><span class="p">(</span><span class="o">*</span><span class="n">y_range</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">height</span><span class="p">)</span>
    <span class="n">mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">stack</span><span class="p">(</span>
        <span class="p">[</span>
            <span class="n">func</span><span class="p">(</span><span class="n">left</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="p">:],</span> <span class="n">top</span><span class="p">[:,</span> <span class="kc">None</span><span class="p">]),</span>
            <span class="n">func</span><span class="p">(</span><span class="n">right</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="p">:],</span> <span class="n">top</span><span class="p">[:,</span> <span class="kc">None</span><span class="p">]),</span>
            <span class="n">func</span><span class="p">(</span><span class="n">right</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="p">:],</span> <span class="n">bottom</span><span class="p">[:,</span> <span class="kc">None</span><span class="p">]),</span>
            <span class="n">func</span><span class="p">(</span><span class="n">left</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="p">:],</span> <span class="n">bottom</span><span class="p">[:,</span> <span class="kc">None</span><span class="p">]),</span>
        <span class="p">]</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">mask</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="o">&amp;</span> <span class="o">~</span><span class="n">mask</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">circle</span><span class="p">(</span><span class="n">radius</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">char</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a circle.&quot;&quot;&quot;</span>
    <span class="n">height_limited</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">if</span> <span class="n">width</span> <span class="o">&lt;</span> <span class="n">height</span> <span class="o">*</span> <span class="mi">2</span><span class="p">:</span>
        <span class="n">height_limited</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">if</span> <span class="n">height_limited</span><span class="p">:</span>
        <span class="n">y_range</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
        <span class="n">x_range</span> <span class="o">=</span> <span class="n">width</span> <span class="o">/</span> <span class="n">height</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">y_range</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">x_range</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
        <span class="n">y_range</span> <span class="o">=</span> <span class="n">height</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">/</span> <span class="n">width</span> <span class="o">*</span> <span class="n">x_range</span>

    <span class="n">mask</span> <span class="o">=</span> <span class="n">boundary</span><span class="p">(</span>
        <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">**</span><span class="mi">2</span> <span class="o">&lt;</span> <span class="n">radius</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">x_range</span><span class="p">,</span> <span class="n">y_range</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">Str2D</span><span class="p">(</span><span class="n">mask</span><span class="p">,</span> <span class="n">char</span><span class="o">=</span><span class="n">char</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">hole</span><span class="p">(</span><span class="n">radius</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">char</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a hole.&quot;&quot;&quot;</span>
    <span class="n">height_limited</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">if</span> <span class="n">width</span> <span class="o">&lt;</span> <span class="n">height</span> <span class="o">*</span> <span class="mi">2</span><span class="p">:</span>
        <span class="n">height_limited</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">if</span> <span class="n">height_limited</span><span class="p">:</span>
        <span class="n">y_range</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
        <span class="n">x_range</span> <span class="o">=</span> <span class="n">width</span> <span class="o">/</span> <span class="n">height</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">y_range</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">x_range</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
        <span class="n">y_range</span> <span class="o">=</span> <span class="n">height</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">/</span> <span class="n">width</span> <span class="o">*</span> <span class="n">x_range</span>

    <span class="n">mask</span> <span class="o">=</span> <span class="n">region</span><span class="p">(</span>
        <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">**</span><span class="mi">2</span> <span class="o">&lt;=</span> <span class="n">radius</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">x_range</span><span class="p">,</span> <span class="n">y_range</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">Str2D</span><span class="p">(</span><span class="o">~</span><span class="n">mask</span><span class="p">,</span> <span class="n">char</span><span class="o">=</span><span class="n">char</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">mandelbrot</span><span class="p">(</span><span class="n">height</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">x_range</span><span class="p">,</span> <span class="n">y_range</span><span class="p">,</span> <span class="n">char</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a Mandelbrot set.&quot;&quot;&quot;</span>
    <span class="n">mask</span> <span class="o">=</span> <span class="n">region</span><span class="p">(</span><span class="n">is_in_mandelbrot</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">x_range</span><span class="p">,</span> <span class="n">y_range</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">Str2D</span><span class="p">(</span><span class="n">mask</span><span class="p">,</span> <span class="n">char</span><span class="o">=</span><span class="n">char</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">is_in_mandelbrot</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">max_iterations</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">25</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Determines if the point (x, y) is in the Mandelbrot set.</span>

<span class="sd">    Args:</span>
<span class="sd">        x (float): The real part of the complex number.</span>
<span class="sd">        y (float): The imaginary part of the complex number.</span>
<span class="sd">        max_iterations (int): The maximum number of iterations to perform.</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: True if the point (x, y) is in the Mandelbrot set, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">isscalar</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">x</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">isscalar</span><span class="p">(</span><span class="n">y</span><span class="p">):</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">y</span><span class="p">])</span>

    <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">y</span><span class="o">.</span><span class="n">ravel</span><span class="p">())</span>
    <span class="n">m</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">ravel</span><span class="p">())</span>

    <span class="n">c</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">((</span><span class="n">n</span><span class="p">,</span> <span class="n">m</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">complex128</span><span class="p">)</span>
    <span class="n">c</span><span class="o">.</span><span class="n">real</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">c</span><span class="o">.</span><span class="n">imag</span> <span class="o">=</span> <span class="n">y</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

    <span class="n">z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">n</span><span class="p">,</span> <span class="n">m</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">complex128</span><span class="p">)</span>
    <span class="n">absz</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
    <span class="n">thresh</span> <span class="o">=</span> <span class="mi">10</span>

    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">max_iterations</span><span class="p">):</span>
        <span class="n">z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">absz</span> <span class="o">&lt;</span> <span class="n">thresh</span><span class="p">,</span> <span class="n">z</span> <span class="o">*</span> <span class="n">z</span> <span class="o">+</span> <span class="n">c</span><span class="p">,</span> <span class="n">thresh</span><span class="p">)</span>
        <span class="n">absz</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">absz</span> <span class="o">&lt;</span> <span class="mi">2</span>


<span class="k">def</span> <span class="nf">pre</span><span class="p">(</span>
    <span class="n">s</span><span class="p">:</span> <span class="n">Str2D</span><span class="p">,</span> <span class="n">font_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">bg</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">fg</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HTML</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a preformatted HTML object.&quot;&quot;&quot;</span>
    <span class="n">this_id</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">())</span>
    <span class="n">bg</span> <span class="o">=</span> <span class="n">bg</span> <span class="ow">or</span> <span class="s2">&quot;rgba(0, 0, 0, 0)&quot;</span>
    <span class="n">fg</span> <span class="o">=</span> <span class="n">fg</span> <span class="ow">or</span> <span class="s2">&quot;rgba(255, 255, 255, 1)&quot;</span>
    <span class="k">return</span> <span class="n">HTML</span><span class="p">(</span>
        <span class="n">dedent</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="s2">        &lt;meta charset=&quot;UTF-8&quot;&gt;</span>
<span class="s2">        &lt;style&gt;</span>
<span class="s2">            #_</span><span class="si">{</span><span class="n">this_id</span><span class="si">}</span><span class="s2"> </span><span class="se">{{</span>
<span class="s2">                font-family: monospace;</span>
<span class="s2">                font-size: </span><span class="si">{</span><span class="n">font_size</span><span class="si">}</span><span class="s2">px;</span>
<span class="s2">                background-color: </span><span class="si">{</span><span class="n">bg</span><span class="si">}</span><span class="s2">;</span>
<span class="s2">                color: </span><span class="si">{</span><span class="n">fg</span><span class="si">}</span><span class="s2">;</span>
<span class="s2">                width: fit-content;</span>
<span class="s2">                height: fit-content;</span>
<span class="s2">            </span><span class="se">}}</span>
<span class="s2">        &lt;/style&gt;</span>
<span class="s2">        &lt;pre id=&quot;_</span><span class="si">{</span><span class="n">this_id</span><span class="si">}</span><span class="s2">&quot;&gt;</span><span class="si">{</span><span class="n">s</span><span class="si">!s}</span><span class="s2">&lt;/pre&gt;</span>
<span class="s2">    &quot;&quot;&quot;</span>
        <span class="p">)</span>
    <span class="p">)</span>
</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Sean Smith.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>