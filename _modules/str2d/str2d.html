
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>str2d.str2d &#8212; Str2D 0.1.1 documentation</title>
    <link rel="stylesheet" href="../../_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.1.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
  </head>
  <body>
      <div class="header" role="banner"><h1 class="heading"><a href="../../index.html">
          <span>Str2D 0.1.1 documentation</span></a></h1>
        <h2 class="heading"><span>str2d.str2d</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        <a class="uplink" href="../../index.html">Contents</a>
        </p>

      </div>
      <div class="content">
        
        
  <h1>Source code for str2d.str2d</h1><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">functools</span> <span class="k">import</span> <span class="n">reduce</span>
<span class="kn">from</span> <span class="nn">str2d</span> <span class="k">import</span> <span class="n">utils</span>
<span class="kn">from</span> <span class="nn">pandas</span> <span class="k">import</span> <span class="n">DataFrame</span><span class="p">,</span> <span class="n">Series</span>
<span class="kn">from</span> <span class="nn">numpy</span> <span class="k">import</span> <span class="n">ndarray</span>


<div class="viewcode-block" id="Str2D"><a class="viewcode-back" href="../../modules/str2d.html#str2d.str2d.Str2D">[docs]</a><span class="k">class</span> <span class="nc">Str2D</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">inp</span><span class="p">:</span> <span class="nb">object</span><span class="p">,</span>
            <span class="n">min_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">halign</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">hfill</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
            <span class="n">min_height</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">valign</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="n">vfill</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Str2D is a simple class to embody a two dimensional string.  You can</span>
<span class="sd">        add them to place them in a horizontal alignment.  You can divide them</span>
<span class="sd">        to place one over another.  You can flip them, roll them, or shuffle.</span>

<span class="sd">        When instantiating a Str2D, you can accept the defaults or provide your</span>
<span class="sd">        own.  These parameter play a role when the string normalization takes</span>
<span class="sd">        place to make sure all lines have the same length and to ensure two</span>
<span class="sd">        Str2D objects have the same number of lines when adding.  When combining</span>
<span class="sd">        two objects, the first&#39;s attributes will be inherited.</span>

<span class="sd">        :param inp: Primary input.</span>
<span class="sd">            If string, gets split on newline `\n`.</span>
<span class="sd">            If DataFrame or ndarray, will supply `__repr__` output and</span>
<span class="sd">                split on newline.</span>
<span class="sd">            If anything else that is an iterable, will assume each iteration</span>
<span class="sd">                is a separate line and take the `str(x)` as the source of that</span>
<span class="sd">                line.</span>
<span class="sd">            If it is an instance of Str2D, will assume it&#39;s data.</span>
<span class="sd">            Otherwise, will use `__repr__`.</span>
<span class="sd">        :param min_width: We can specify the minimum width that all lines must</span>
<span class="sd">            take.</span>
<span class="sd">        :param halign: The behavior that defines how the text will align itself</span>
<span class="sd">            if ever asked to.  It can take 3 types.</span>
<span class="sd">            - &#39;left&#39;</span>
<span class="sd">            - &#39;center&#39;</span>
<span class="sd">            - &#39;right&#39;</span>
<span class="sd">        :param hfill: By default, when the alignment parameter is needed, the</span>
<span class="sd">        space is filled up wiht `&#39; &#39;`.  You can change that behavior with this.</span>
<span class="sd">        :param min_height: We can specify the minimum height or number of lines.</span>
<span class="sd">        :param valign: The behavior that defines how the lines will align itself</span>
<span class="sd">            if ever asked to.  It can take 3 types.</span>
<span class="sd">            - &#39;top&#39;</span>
<span class="sd">            - &#39;middle&#39;</span>
<span class="sd">            - &#39;bottom&#39;</span>
<span class="sd">        :param vfill: By default, when the alignment parameter is needed, the</span>
<span class="sd">        space is filled up wiht `&#39; &#39;`.  You can change that behavior with this.</span>

<span class="sd">        Examples</span>
<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... s = Str2D(&#39;12\\n43&#39;)</span>
<span class="sd">        ... print(s)</span>
<span class="sd">        ... print(s + s)</span>
<span class="sd">        ... print((s * 5) / (s.V * 3))</span>
<span class="sd">        12</span>
<span class="sd">        43</span>
<span class="sd">        1212</span>
<span class="sd">        4343</span>
<span class="sd">        1212121212</span>
<span class="sd">        4343434343</span>
<span class="sd">        434343</span>
<span class="sd">        121212</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">halign</span> <span class="o">=</span> <span class="n">halign</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">valign</span> <span class="o">=</span> <span class="n">valign</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hfill</span> <span class="o">=</span> <span class="n">hfill</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vfill</span> <span class="o">=</span> <span class="n">vfill</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">inp</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">s</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">inp</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">))</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">inp</span><span class="p">,</span> <span class="p">(</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">Series</span><span class="p">,</span> <span class="n">ndarray</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">s</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">inp</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">))</span>
        <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">inp</span><span class="p">,</span> <span class="s1">&#39;__iter__&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">s</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">inp</span><span class="p">))</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">inp</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">s</span> <span class="o">=</span> <span class="n">inp</span><span class="o">.</span><span class="n">s</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">s</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">inp</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_norm_height</span><span class="p">(</span><span class="n">min_height</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_norm_width</span><span class="p">(</span><span class="n">min_width</span><span class="p">)</span>

<span class="c1">################################################################################</span>
<span class="c1"># Internals</span>
<span class="c1">################################################################################</span>

    <span class="k">def</span> <span class="nf">_norm_width</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">min_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Internal method that handles making width of all rows the same.  It</span>
<span class="sd">        will respect the alignment and fill preferences specified when the</span>
<span class="sd">        instance was created.</span>

<span class="sd">        :param min_width: This is not preserved as an instance attribute.  Must</span>
<span class="sd">            be passed as a parameter.  It controls the minimum width of rows.</span>
<span class="sd">        :return: Str2D</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">halign</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">halign</span>
        <span class="n">hfill</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hfill</span>
        <span class="n">width</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">min_width</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">)</span>

        <span class="n">align_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">right</span><span class="o">=</span><span class="s1">&#39;&gt;&#39;</span><span class="p">,</span> <span class="n">left</span><span class="o">=</span><span class="s1">&#39;&lt;&#39;</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="s1">&#39;^&#39;</span><span class="p">)</span>
        <span class="n">alignment</span> <span class="o">=</span> <span class="n">align_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">halign</span><span class="o">.</span><span class="n">lower</span><span class="p">(),</span> <span class="s1">&#39;&lt;&#39;</span><span class="p">)</span>

        <span class="n">_fmt</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">f</span><span class="s1">&#39;{x:</span><span class="si">{hfill}{alignment}{width}</span><span class="s1">}&#39;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">s</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">_fmt</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="p">))</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">_norm_height</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">min_height</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Internal method that handles making number of lines the same as other</span>
<span class="sd">        Str2D instances that are being combined.  It will respect the alignment</span>
<span class="sd">        and fill preferences specified when the instance was created.</span>

<span class="sd">        :param min_height: This is not preserved as an instance attribute.  Must</span>
<span class="sd">            be passed as a parameter.  It controls the minimum number of lines.</span>
<span class="sd">        :return: Str2D</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">valign</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">valign</span>
        <span class="n">vfill</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vfill</span>
        <span class="n">height</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">,</span> <span class="n">min_height</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">)</span>

        <span class="n">delta</span> <span class="o">=</span> <span class="n">height</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span>

        <span class="n">align</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
            <span class="n">top</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">delta</span><span class="p">),</span>
            <span class="n">middle</span><span class="o">=</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">))(</span><span class="o">*</span><span class="nb">divmod</span><span class="p">(</span><span class="n">delta</span><span class="p">,</span> <span class="mi">2</span><span class="p">)),</span>
            <span class="n">bottom</span><span class="o">=</span><span class="p">(</span><span class="n">delta</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="n">top</span><span class="p">,</span> <span class="n">bottom</span> <span class="o">=</span> <span class="n">align</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">valign</span><span class="o">.</span><span class="n">lower</span><span class="p">(),</span> <span class="n">align</span><span class="p">[</span><span class="s1">&#39;top&#39;</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">s</span> <span class="o">=</span> <span class="p">(</span><span class="n">vfill</span><span class="p">,)</span> <span class="o">*</span> <span class="n">top</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span> <span class="o">+</span> <span class="p">(</span><span class="n">vfill</span><span class="p">,)</span> <span class="o">*</span> <span class="n">bottom</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_kwargs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Dictionary of attributes necessary for creating a new Str2D instance</span>
<span class="sd">        with the same properties.</span>

<span class="sd">        :return: dict</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">k</span> <span class="o">!=</span> <span class="s1">&#39;s&#39;</span><span class="p">}</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">width</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">len</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="p">))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">height</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">shape</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span>

<span class="c1">################################################################################</span>
<span class="c1"># Orientation permutations</span>
<span class="c1"># there are a total of 8</span>
<span class="c1">################################################################################</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">I</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Identity method.  It exists mostly to make myself feel better about</span>
<span class="sd">        having a complete set of 8 transformations.  See below for the others.</span>

<span class="sd">        :return: Str2D</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... s = Str2D(&#39;abc\\ndef\\nghi&#39;)</span>
<span class="sd">        ... s + &#39;|&#39; + s.I</span>
<span class="sd">        abc|abc</span>
<span class="sd">        def|def</span>
<span class="sd">        ghi|ghi</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">H</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Horizontal flip or &quot;mirror&quot; method.</span>

<span class="sd">        :return: Str2D</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... s = Str2D(&#39;abc\\ndef\\nghi&#39;)</span>
<span class="sd">        ... s + &#39;|&#39; + s.H</span>
<span class="sd">        abc|cba</span>
<span class="sd">        def|fed</span>
<span class="sd">        ghi|ihg</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="n">s</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">V</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Vertical flip.</span>

<span class="sd">        :return: Str2D</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... s = Str2D(&#39;abc\\ndef\\nghi&#39;)</span>
<span class="sd">        ... s.V</span>
<span class="sd">        abc|ghi</span>
<span class="sd">        def|def</span>
<span class="sd">        ghi|abc</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">T</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Transpose</span>

<span class="sd">        :return: Str2C</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... s = Str2D(&#39;abc\\ndef\\nghi&#39;)</span>
<span class="sd">        ... s + &#39;|&#39; + s.T</span>
<span class="sd">        abc|adg</span>
<span class="sd">        def|beh</span>
<span class="sd">        ghi|cfi</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="nb">map</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">,</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="p">)))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">TV</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Transpose followed by a Vertical flip results in π/2 counter</span>
<span class="sd">        clockwise rotation.</span>

<span class="sd">        Synonyms: Horizontal flip followed by a Transpose HT</span>

<span class="sd">        :return: Str2D</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... s = Str2D(&#39;abc\\ndef\\nghi&#39;)</span>
<span class="sd">        ... s + &#39;|&#39; + s.TV</span>
<span class="sd">        abc|cfi</span>
<span class="sd">        def|beh</span>
<span class="sd">        ghi|adg</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">V</span>

    <span class="n">HT</span> <span class="o">=</span> <span class="n">TV</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">VH</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Vertical flip followed by a Horizontal flip results in a π rotation</span>
<span class="sd">        (either direction).</span>

<span class="sd">        Synonyms: Horizontal flip followed by a Vertical flip.</span>

<span class="sd">        :return: Str2D</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... s = Str2D(&#39;abc\\ndef\\nghi&#39;)</span>
<span class="sd">        ... s + &#39;|&#39; + s.VH</span>
<span class="sd">        abc|ihg</span>
<span class="sd">        def|fed</span>
<span class="sd">        ghi|cba</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">V</span><span class="o">.</span><span class="n">H</span>

    <span class="n">HV</span> <span class="o">=</span> <span class="n">VH</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">VT</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Vertical flip followed by a Transpose results in a π/2 clockwise</span>
<span class="sd">        rotation.</span>

<span class="sd">        Synonyms: Transpose followed by a Horizontal flip</span>

<span class="sd">        :return: Str2D</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... s = Str2D(&#39;abc\\ndef\\nghi&#39;)</span>
<span class="sd">        ... s + &#39;|&#39; + s.VT</span>
<span class="sd">        abc|gda</span>
<span class="sd">        def|heb</span>
<span class="sd">        ghi|ifc</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">V</span><span class="o">.</span><span class="n">T</span>

    <span class="n">TH</span> <span class="o">=</span> <span class="n">VT</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">HVT</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Horizontal flip followed by a Vertical flip followed by a Transpoose</span>
<span class="sd">        results in a Transpose along secondary diagonal.</span>

<span class="sd">        Synonyms: VHT</span>

<span class="sd">        :return: Str2D</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... s = Str2D(&#39;abc\\ndef\\nghi&#39;)</span>
<span class="sd">        ... s + &#39;|&#39; + s.HVT</span>
<span class="sd">        abc|ifc</span>
<span class="sd">        def|heb</span>
<span class="sd">        ghi|gda</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">H</span><span class="o">.</span><span class="n">V</span><span class="o">.</span><span class="n">T</span>

    <span class="n">VHT</span> <span class="o">=</span> <span class="n">HVT</span>

<span class="c1">################################################################################</span>
<span class="c1"># Other matrix like operations</span>
<span class="c1">################################################################################</span>

<div class="viewcode-block" id="Str2D.roll"><a class="viewcode-back" href="../../modules/str2d.html#str2d.str2d.Str2D.roll">[docs]</a>    <span class="k">def</span> <span class="nf">roll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">axis</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Shift columns or rows by `n` amount.  Columns or rows at the front</span>
<span class="sd">        will roll over to the back.</span>

<span class="sd">        :param n: Number of columns or rows to shift.</span>
<span class="sd">        :param axis: 1 is for columns, 0 is for rows</span>
<span class="sd">        :return: Str2D</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... s = Str2D(&#39;abc\\ndef\\nghi&#39;)</span>
<span class="sd">        ... Str2D.hjoin(</span>
<span class="sd">        ...     &#39;|&#39;, [s, s.roll(n=1, axis=0), s.roll(n=1, axis=1)])</span>
<span class="sd">        abc|def|bca</span>
<span class="sd">        def|ghi|efd</span>
<span class="sd">        ghi|abc|hig</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">axis</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">n</span> <span class="o">=</span> <span class="n">n</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span>
            <span class="n">r</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="n">n</span><span class="p">:]</span> <span class="o">+</span> <span class="n">x</span><span class="p">[:</span><span class="n">n</span><span class="p">]</span>
            <span class="n">i</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">n</span> <span class="o">=</span> <span class="n">n</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span>
            <span class="n">i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="p">[</span><span class="n">n</span><span class="p">:]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="p">[:</span><span class="n">n</span><span class="p">]</span>
        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="n">i</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">_kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="Str2D.hroll"><a class="viewcode-back" href="../../modules/str2d.html#str2d.str2d.Str2D.hroll">[docs]</a>    <span class="k">def</span> <span class="nf">hroll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Shift columns by `n` amount.  Columns at the front roll over to the</span>
<span class="sd">        back.  Leverages `roll` method</span>

<span class="sd">        :param n: Number of columns to shift.</span>
<span class="sd">        :return: Str2D</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... s = Str2D(&#39;abc\\ndef\\nghi&#39;)</span>
<span class="sd">        ... s + &#39;|&#39; + s.hroll(2)</span>
<span class="sd">        abc|cab</span>
<span class="sd">        def|fde</span>
<span class="sd">        ghi|igh</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">roll</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></div>

<div class="viewcode-block" id="Str2D.vroll"><a class="viewcode-back" href="../../modules/str2d.html#str2d.str2d.Str2D.vroll">[docs]</a>    <span class="k">def</span> <span class="nf">vroll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Shift rows by `n` amount.  Rows at the front roll over to the back.</span>
<span class="sd">        Leverages `roll` method</span>

<span class="sd">        :param n: Number of rows to shift.</span>
<span class="sd">        :return: Str2D</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... s = Str2D(&#39;abc\\ndef\\nghi&#39;)</span>
<span class="sd">        ... s + &#39;|&#39; + s.vroll(2)</span>
<span class="sd">        abc|ghi</span>
<span class="sd">        def|abc</span>
<span class="sd">        ghi|def</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">roll</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></div>

<div class="viewcode-block" id="Str2D.shuffle"><a class="viewcode-back" href="../../modules/str2d.html#str2d.str2d.Str2D.shuffle">[docs]</a>    <span class="k">def</span> <span class="nf">shuffle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">seed</span><span class="p">:</span> <span class="nb">object</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Randomly shuffles characters throughout the Str2D.</span>

<span class="sd">        :param seed: seed for `random` module if you want to target a specific</span>
<span class="sd">            randomization.  seed takes anything that is hashable.</span>
<span class="sd">        :return: Str2D</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... s = Str2D(&#39;abc\\ndef\\nghi&#39;)</span>
<span class="sd">        ... s + &#39;|&#39; + s.shuffle(seed=3.14)</span>
<span class="sd">        abc|cfa</span>
<span class="sd">        def|hbe</span>
<span class="sd">        ghi|gid</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="p">),</span> <span class="n">seed</span><span class="o">=</span><span class="n">seed</span><span class="p">)</span>
        <span class="n">i</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">chunk</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="n">i</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">_kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="Str2D.asstr2d"><a class="viewcode-back" href="../../modules/str2d.html#str2d.str2d.Str2D.asstr2d">[docs]</a>    <span class="k">def</span> <span class="nf">asstr2d</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;If `other` is already a `Str2D` it returns the same thing.  Otherwise</span>
<span class="sd">        it will construct a new `Str2D` from whatever `other` is.</span>

<span class="sd">        :param other: Either a `Str2D` or `object`</span>
<span class="sd">        :return: Str2D</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)):</span>
            <span class="k">return</span> <span class="n">other</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="n">other</span><span class="p">)</span></div>

<span class="c1">################################################################################</span>
<span class="c1"># Operations</span>
<span class="c1">################################################################################</span>

    <span class="k">def</span> <span class="nf">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="nb">object</span><span class="p">,</span> <span class="n">side</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;left&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;This method shouldn&#39;t typically be accessed directly but rather</span>
<span class="sd">        through the `+` operator.</span>

<span class="sd">        :param other: Thing to be added</span>
<span class="sd">        :param side: add to the `&#39;left&#39;` or `&#39;right&#39;` side</span>
<span class="sd">        :return: Str2D</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... s = Str2D(&#39;abc\\ndef\\nghi&#39;)</span>
<span class="sd">        ... s + s.H</span>
<span class="sd">        abccba</span>
<span class="sd">        deffed</span>
<span class="sd">        ghiihg</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">other</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">border_left</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">other</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">asstr2d</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

        <span class="n">height</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__copy__</span><span class="p">()</span><span class="o">.</span><span class="n">_norm_height</span><span class="p">(</span><span class="n">min_height</span><span class="o">=</span><span class="n">height</span><span class="p">)</span><span class="o">.</span><span class="n">_norm_width</span><span class="p">()</span>
        <span class="n">b</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">__copy__</span><span class="p">()</span><span class="o">.</span><span class="n">_norm_height</span><span class="p">(</span><span class="n">min_height</span><span class="o">=</span><span class="n">height</span><span class="p">)</span><span class="o">.</span><span class="n">_norm_width</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">side</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;left&#39;</span><span class="p">:</span>
            <span class="n">tup</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">s</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">s</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">side</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;right&#39;</span><span class="p">:</span>
            <span class="n">tup</span> <span class="o">=</span> <span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">s</span><span class="p">,</span> <span class="n">a</span><span class="o">.</span><span class="n">s</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;side: &quot;</span><span class="si">{side}</span><span class="s1">&quot; has to be &quot;left&quot; or &quot;right&quot;&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span>
            <span class="nb">tuple</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">,</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="n">tup</span><span class="p">))),</span>
            <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">_kwargs</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">__radd__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;If you add a non Str2D object on the left side the other object&#39;s</span>
<span class="sd">        __add__ method will likely send it here.  As with `__add__`, you are not</span>
<span class="sd">        supposed to access this method directly.</span>

<span class="sd">        :param other: Thing to be added</span>
<span class="sd">        :return: Str2D</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... s = Str2D(&#39;abc\\ndef\\nghi&#39;)</span>
<span class="sd">        ... &#39;hello\\nworld&#39; + s</span>
<span class="sd">        helloabc</span>
<span class="sd">        worlddef</span>
<span class="sd">             ghi</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__add__</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">side</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__mul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;This method shoudln&#39;t typically be accessed directly but rather</span>
<span class="sd">        through the `*` operator.</span>

<span class="sd">        :param n: number of times to repeat `self`</span>
<span class="sd">        :return: Str2D</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... s = Str2D(&#39;abc\\ndef\\nghi&#39;)</span>
<span class="sd">        ... s * 3</span>
<span class="sd">        abcabcabc</span>
<span class="sd">        defdefdef</span>
<span class="sd">        ghighighi</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;`n` </span><span class="si">{n}</span><span class="s1"> has to be an integer.&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">add</span> <span class="o">=</span> <span class="k">lambda</span> <span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="bp">self</span> <span class="o">+</span> <span class="n">other</span>
            <span class="k">return</span> <span class="n">reduce</span><span class="p">(</span><span class="n">add</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)))</span>

    <span class="k">def</span> <span class="nf">__rmul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;This method shoudln&#39;t typically be accessed directly but rather</span>
<span class="sd">        through the `*` operator.</span>

<span class="sd">        :param n: number of times to repeat `self`</span>
<span class="sd">        :return: Str2D</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... s = Str2D(&#39;abc\\ndef\\nghi&#39;)</span>
<span class="sd">        ... 3 * s</span>
<span class="sd">        abcabcabc</span>
<span class="sd">        defdefdef</span>
<span class="sd">        ghighighi</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span> <span class="o">*</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">__truediv__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="nb">object</span><span class="p">,</span> <span class="n">side</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;left&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;This method shouldn&#39;t typically be accessed directly but rather</span>
<span class="sd">        through the `/` operator.</span>

<span class="sd">        :param other: Thing to be placed below or above</span>
<span class="sd">        :param side: place to the `&#39;left&#39;` (above) or `&#39;right&#39;` (below)</span>
<span class="sd">        :return: Str2D</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... s = Str2D(&#39;abc\\ndef\\nghi&#39;)</span>
<span class="sd">        ... s / s.V</span>
<span class="sd">        abc</span>
<span class="sd">        def</span>
<span class="sd">        ghi</span>
<span class="sd">        ghi</span>
<span class="sd">        def</span>
<span class="sd">        abc</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">other</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">border_top</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">other</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">asstr2d</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">side</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;left&#39;</span><span class="p">:</span>
            <span class="n">tup</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span> <span class="o">+</span> <span class="n">other</span><span class="o">.</span><span class="n">s</span>
        <span class="k">elif</span> <span class="n">side</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;right&#39;</span><span class="p">:</span>
            <span class="n">tup</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">s</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;side: &quot;</span><span class="si">{side}</span><span class="s1">&quot; has to be &quot;left&quot; or &quot;right&quot;&#39;</span><span class="p">)</span>

        <span class="n">other</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">asstr2d</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="n">tup</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">_kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__rtruediv__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;This method shouldn&#39;t typically be accessed directly but rather</span>
<span class="sd">        through the `/` operator.</span>

<span class="sd">        :param other: Thing to be placed above</span>
<span class="sd">        :return: Str2D</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... s = Str2D(&#39;abc\\ndef\\nghi&#39;)</span>
<span class="sd">        ... &#39;hello\\nworld&#39; / s</span>
<span class="sd">        hello</span>
<span class="sd">        world</span>
<span class="sd">        abc</span>
<span class="sd">        def</span>
<span class="sd">        ghi</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__truediv__</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">side</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__floordiv__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;This method shoudln&#39;t typically be accessed directly but rather</span>
<span class="sd">        through the `//` operator.</span>

<span class="sd">        :param n: number of times to repeat `self`</span>
<span class="sd">        :return: Str2D</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... s = Str2D(&#39;abcdefghij&#39;)</span>
<span class="sd">        ... s // 3</span>
<span class="sd">        abcdefghij</span>
<span class="sd">        abcdefghij</span>
<span class="sd">        abcdefghij</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;`n` </span><span class="si">{n}</span><span class="s1"> has to be an integer.&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">div</span> <span class="o">=</span> <span class="k">lambda</span> <span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="bp">self</span> <span class="o">/</span> <span class="n">other</span>
            <span class="k">return</span> <span class="n">reduce</span><span class="p">(</span><span class="n">div</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)))</span>

    <span class="k">def</span> <span class="nf">__rfloordiv__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;This method shoudln&#39;t typically be accessed directly but rather</span>
<span class="sd">        through the `//` operator.</span>

<span class="sd">        :param n: number of times to repeat `self`</span>
<span class="sd">        :return: Str2D</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... s = Str2D(&#39;abcdefghij&#39;)</span>
<span class="sd">        ... 3 // s</span>
<span class="sd">        abcdefghij</span>
<span class="sd">        abcdefghij</span>
<span class="sd">        abcdefghij</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span> <span class="o">//</span> <span class="n">n</span>

    <span class="k">def</span> <span class="nf">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Will check if `self`&#39;s string representation is the same as</span>
<span class="sd">        what is being compared against.</span>

<span class="sd">        :param other: Thing to be compared</span>
<span class="sd">        :return: bool</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... s = Str2D(&#39;abcdefghij&#39;)</span>
<span class="sd">        ... s == &#39;abcdefghij&#39;</span>
<span class="sd">        True</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span> <span class="o">==</span> <span class="n">other</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">other</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Will check if `self`&#39;s string representation is not the same as</span>
<span class="sd">        what is being compared against.</span>

<span class="sd">        :param other: Thing to be compared</span>
<span class="sd">        :return: bool</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... s = Str2D(&#39;abcdefghij&#39;)</span>
<span class="sd">        ... s != &#39;abcdefghij&#39;</span>
<span class="sd">        False</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span> <span class="o">==</span> <span class="n">other</span>

<div class="viewcode-block" id="Str2D.add"><a class="viewcode-back" href="../../modules/str2d.html#str2d.str2d.Str2D.add">[docs]</a>    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="nb">object</span><span class="p">,</span>
            <span class="n">sep</span><span class="p">:</span> <span class="nb">object</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">side</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;left&#39;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;This is the public access method to `+`.  The difference being that</span>
<span class="sd">        you can specify a `sep` parameter to place between operands.</span>

<span class="sd">        :param other: Thing to be added</span>
<span class="sd">        :param sep: Thing that separates operands</span>
<span class="sd">        :param side: Left or Right side</span>
<span class="sd">        :return: Str2D</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... s = Str2D(&#39;abc\\ndef\\nghi&#39;)</span>
<span class="sd">        ... t = Str2D(&#39;123\\n456\\n789&#39;)</span>
<span class="sd">        ... s.add(t, sep=&#39;|&#39;)</span>
<span class="sd">        abc|123</span>
<span class="sd">        def|456</span>
<span class="sd">        ghi|789</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">sep</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">other</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">border_left</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">other</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">asstr2d</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">side</span><span class="o">==</span><span class="s1">&#39;left&#39;</span><span class="p">:</span>
                <span class="n">los</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">]</span>
            <span class="k">elif</span> <span class="n">side</span><span class="o">==</span><span class="s1">&#39;right&#39;</span><span class="p">:</span>
                <span class="n">los</span> <span class="o">=</span> <span class="p">[</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="p">]</span>

            <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">hjoin</span><span class="p">(</span><span class="n">sep</span><span class="p">,</span> <span class="n">los</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__add__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></div>

<div class="viewcode-block" id="Str2D.radd"><a class="viewcode-back" href="../../modules/str2d.html#str2d.str2d.Str2D.radd">[docs]</a>    <span class="k">def</span> <span class="nf">radd</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="nb">object</span><span class="p">,</span> <span class="n">sep</span><span class="p">:</span> <span class="nb">object</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;This is the public access method to `+`.  The difference being that</span>
<span class="sd">        you can specify a `sep` parameter to place between operands.</span>

<span class="sd">        :param other: Thing to be added</span>
<span class="sd">        :param sep: Thing that separates operands</span>
<span class="sd">        :return: Str2D</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... s = Str2D(&#39;abc\\ndef\\nghi&#39;)</span>
<span class="sd">        ... t = Str2D(&#39;123\\n456\\n789&#39;)</span>
<span class="sd">        ... s.radd(t, sep=&#39;|&#39;)</span>
<span class="sd">        123|abc</span>
<span class="sd">        456|def</span>
<span class="sd">        789|ghi</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">sep</span><span class="p">,</span> <span class="n">side</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Str2D.div"><a class="viewcode-back" href="../../modules/str2d.html#str2d.str2d.Str2D.div">[docs]</a>    <span class="k">def</span> <span class="nf">div</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="nb">object</span><span class="p">,</span> <span class="n">sep</span><span class="p">:</span> <span class="nb">object</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
            <span class="n">side</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;left&#39;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;This is the public access method to `/`.  The difference being that</span>
<span class="sd">        you can specify a `sep` parameter to place between operands.</span>

<span class="sd">        :param other: Thing to be placed above or below</span>
<span class="sd">        :param sep: Thing that separates operands</span>
<span class="sd">        :param side: Left (above) or Right (below)</span>
<span class="sd">        :return: Str2D</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... s = Str2D(&#39;abc\\ndef\\nghi&#39;)</span>
<span class="sd">        ... t = Str2D(&#39;123\\n456\\n789&#39;)</span>
<span class="sd">        ... s.div(t, sep=&#39;=&#39;)</span>
<span class="sd">        abc</span>
<span class="sd">        def</span>
<span class="sd">        ghi</span>
<span class="sd">        ===</span>
<span class="sd">        123</span>
<span class="sd">        456</span>
<span class="sd">        789</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">sep</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">other</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">border_top</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">other</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">asstr2d</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">side</span> <span class="o">==</span> <span class="s1">&#39;left&#39;</span><span class="p">:</span>
                <span class="n">los</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">]</span>
            <span class="k">elif</span> <span class="n">side</span> <span class="o">==</span> <span class="s1">&#39;right&#39;</span><span class="p">:</span>
                <span class="n">los</span> <span class="o">=</span> <span class="p">[</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="p">]</span>

            <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">vjoin</span><span class="p">(</span><span class="n">sep</span><span class="p">,</span> <span class="n">los</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__truediv__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></div>

<div class="viewcode-block" id="Str2D.rdiv"><a class="viewcode-back" href="../../modules/str2d.html#str2d.str2d.Str2D.rdiv">[docs]</a>    <span class="k">def</span> <span class="nf">rdiv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="nb">object</span><span class="p">,</span> <span class="n">sep</span><span class="p">:</span> <span class="nb">object</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;This is the public access method to `/`.  The difference being that</span>
<span class="sd">        you can specify a `sep` parameter to place between operands.</span>

<span class="sd">        :param other: Thing to be placed above</span>
<span class="sd">        :param side: Left (above) or Right (below)</span>
<span class="sd">        :return: Str2D</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... s = Str2D(&#39;abc\\ndef\\nghi&#39;)</span>
<span class="sd">        ... t = Str2D(&#39;123\\n456\\n789&#39;)</span>
<span class="sd">        ... s.rdiv(t, sep=&#39;=&#39;)</span>
<span class="sd">        123</span>
<span class="sd">        456</span>
<span class="sd">        789</span>
<span class="sd">        ===</span>
<span class="sd">        abc</span>
<span class="sd">        def</span>
<span class="sd">        ghi</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">div</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">sep</span><span class="p">,</span> <span class="n">side</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">)</span></div>

<span class="c1">################################################################################</span>
<span class="c1"># dunders</span>
<span class="c1">################################################################################</span>

    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">slice</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="p">[</span><span class="n">other</span><span class="p">],</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">_kwargs</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="p">[</span><span class="n">other</span><span class="p">]</span>
        <span class="k">elif</span> <span class="nb">all</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">slice</span><span class="p">),</span> <span class="n">other</span><span class="p">)):</span>
            <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span>
                <span class="nb">map</span><span class="p">(</span>
                    <span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="n">s</span><span class="o">.</span><span class="fm">__getitem__</span><span class="p">(</span><span class="n">other</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="o">.</span><span class="fm">__getitem__</span><span class="p">(</span><span class="n">other</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                <span class="p">)</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;&quot;</span><span class="si">{other}</span><span class="s1">&quot; must be slices&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__copy__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">newone</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="p">)</span>
        <span class="n">newone</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">newone</span>

    <span class="k">def</span> <span class="nf">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="p">)</span>

<span class="c1">################################################################################</span>
<span class="c1"># Borders</span>
<span class="c1">################################################################################</span>

<div class="viewcode-block" id="Str2D.box"><a class="viewcode-back" href="../../modules/str2d.html#str2d.str2d.Str2D.box">[docs]</a>    <span class="k">def</span> <span class="nf">box</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
            <span class="n">tb</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">lr</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">tl</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
            <span class="n">tr</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">bl</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">br</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Use parameters to encompass `self` with a box</span>

<span class="sd">        :param tb: Top and bottom edge</span>
<span class="sd">        :param lr: Left and right edge</span>
<span class="sd">        :param tl: Top left corner</span>
<span class="sd">        :param tr: Top right corner</span>
<span class="sd">        :param bl: Bottom left corner</span>
<span class="sd">        :param br: Bottom right corner</span>
<span class="sd">        :return: Str2D</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... s = Str2D(&#39;a&#39;)</span>
<span class="sd">        ... s.box(&#39;═&#39;, &#39;║&#39;, &#39;╔&#39;, &#39;╗&#39;, &#39;╚&#39;, &#39;╝&#39;)</span>
<span class="sd">        ╔═╗</span>
<span class="sd">        ║a║</span>
<span class="sd">        ╚═╝</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">t</span> <span class="o">=</span> <span class="n">tl</span> <span class="o">+</span> <span class="n">tb</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">+</span> <span class="n">tr</span>
        <span class="n">b</span> <span class="o">=</span> <span class="n">bl</span> <span class="o">+</span> <span class="n">tb</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">+</span> <span class="n">br</span>
        <span class="n">f</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">f</span><span class="s1">&#39;</span><span class="si">{lr}{x}{lr}</span><span class="s1">&#39;</span>
        <span class="n">tups</span> <span class="o">=</span> <span class="p">(</span><span class="n">t</span><span class="p">,)</span> <span class="o">+</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="p">))</span> <span class="o">+</span> <span class="p">(</span><span class="n">b</span><span class="p">,)</span>
        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="n">tups</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">_kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="Str2D.buffer"><a class="viewcode-back" href="../../modules/str2d.html#str2d.str2d.Str2D.buffer">[docs]</a>    <span class="k">def</span> <span class="nf">buffer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">char</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Similar to `Str2D.box` but only uses one character for all corners</span>
<span class="sd">        and edges.  Further, we specify how many iterations we want with the</span>
<span class="sd">        `n` parameter.</span>

<span class="sd">        :param char: Character to use as buffer</span>
<span class="sd">        :param n: Number of buffer layers</span>
<span class="sd">        :return: Str2D</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... s = Str2D(&#39;a&#39;)</span>
<span class="sd">        ... s.buffer(&#39;*&#39;, 2)</span>
<span class="sd">        *****</span>
<span class="sd">        *****</span>
<span class="sd">        **a**</span>
<span class="sd">        *****</span>
<span class="sd">        *****</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">n</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">box</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">char</span><span class="p">,)</span> <span class="o">*</span> <span class="mi">6</span><span class="p">)</span><span class="o">.</span><span class="n">buffer</span><span class="p">(</span><span class="n">char</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span></div>

    <span class="k">def</span> <span class="nf">_border</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">side</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">char</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Single side border. Can be used to separate between two Str2Ds.</span>
<span class="sd">        Note that this returns an object with unit width or height.  It is</span>
<span class="sd">        not added to the calling instance for your.</span>

<span class="sd">        :param side: &#39;top&#39;, &#39;bottom&#39;, &#39;left&#39;, or &#39;right&#39;</span>
<span class="sd">        :param char: Character to use as border</span>
<span class="sd">        :return: Str2D</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... s = Str2D(&#39;a\\nb\\nc&#39;)</span>
<span class="sd">        ... s._border(&#39;right&#39;, &#39;|&#39;)</span>
<span class="sd">        |</span>
<span class="sd">        |</span>
<span class="sd">        |</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">left_right</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="s1">&#39;right&#39;</span><span class="p">}</span>
        <span class="n">top_bottom</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="s1">&#39;bottom&#39;</span><span class="p">}</span>
        <span class="k">if</span> <span class="n">side</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="n">left_right</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)((</span><span class="n">char</span><span class="p">,)</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">side</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="n">top_bottom</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)((</span><span class="n">char</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="n">f</span><span class="s1">&#39;side: &quot;</span><span class="si">{side}</span><span class="s1">&quot; must come from {left_right | top_bottom}&#39;</span><span class="p">)</span>

<div class="viewcode-block" id="Str2D.border_left"><a class="viewcode-back" href="../../modules/str2d.html#str2d.str2d.Str2D.border_left">[docs]</a>    <span class="k">def</span> <span class="nf">border_left</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">char</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Creates a Str2D object that can act as a border.</span>

<span class="sd">        :param char: Character to use for border</span>
<span class="sd">        :return: Str2D</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... s = Str2D(&#39;a\\nb\\nc&#39;)</span>
<span class="sd">        ... s.border_left(&#39;|&#39;)</span>
<span class="sd">        |</span>
<span class="sd">        |</span>
<span class="sd">        |</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_border</span><span class="p">(</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">char</span><span class="p">)</span></div>

<div class="viewcode-block" id="Str2D.border_right"><a class="viewcode-back" href="../../modules/str2d.html#str2d.str2d.Str2D.border_right">[docs]</a>    <span class="k">def</span> <span class="nf">border_right</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">char</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Creates a Str2D object that can act as a border.</span>

<span class="sd">        :param char: Character to use for border</span>
<span class="sd">        :return: Str2D</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... s = Str2D(&#39;a\\nb\\nc&#39;)</span>
<span class="sd">        ... s.border_right(&#39;|&#39;)</span>
<span class="sd">        |</span>
<span class="sd">        |</span>
<span class="sd">        |</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_border</span><span class="p">(</span><span class="s1">&#39;right&#39;</span><span class="p">,</span> <span class="n">char</span><span class="p">)</span></div>

<div class="viewcode-block" id="Str2D.border_top"><a class="viewcode-back" href="../../modules/str2d.html#str2d.str2d.Str2D.border_top">[docs]</a>    <span class="k">def</span> <span class="nf">border_top</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">char</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Creates a Str2D object that can act as a border.</span>

<span class="sd">        :param char: Character to use for border</span>
<span class="sd">        :return: Str2D</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... s = Str2D(&#39;abc&#39;)</span>
<span class="sd">        ... s.border_top(&#39;-&#39;)</span>
<span class="sd">        ---</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_border</span><span class="p">(</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="n">char</span><span class="p">)</span></div>

<div class="viewcode-block" id="Str2D.border_bottom"><a class="viewcode-back" href="../../modules/str2d.html#str2d.str2d.Str2D.border_bottom">[docs]</a>    <span class="k">def</span> <span class="nf">border_bottom</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">char</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Creates a Str2D object that can act as a border.</span>

<span class="sd">        :param char: Character to use for border</span>
<span class="sd">        :return: Str2D</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... s = Str2D(&#39;abc&#39;)</span>
<span class="sd">        ... s.border_bottom(&#39;-&#39;)</span>
<span class="sd">        ---</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_border</span><span class="p">(</span><span class="s1">&#39;bottom&#39;</span><span class="p">,</span> <span class="n">char</span><span class="p">)</span></div>

<div class="viewcode-block" id="Str2D.box_dbl"><a class="viewcode-back" href="../../modules/str2d.html#str2d.str2d.Str2D.box_dbl">[docs]</a>    <span class="k">def</span> <span class="nf">box_dbl</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Convenience method to perform what can be done with Str2D.box</span>

<span class="sd">        :return: Str2D</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... s = Str2D(&#39;a&#39;)</span>
<span class="sd">        ... s.box_dbl()</span>
<span class="sd">        ╔═╗</span>
<span class="sd">        ║a║</span>
<span class="sd">        ╚═╝</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">box</span><span class="p">(</span><span class="s1">&#39;═&#39;</span><span class="p">,</span> <span class="s1">&#39;║&#39;</span><span class="p">,</span> <span class="s1">&#39;╔&#39;</span><span class="p">,</span> <span class="s1">&#39;╗&#39;</span><span class="p">,</span> <span class="s1">&#39;╚&#39;</span><span class="p">,</span> <span class="s1">&#39;╝&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Str2D.box_sgl"><a class="viewcode-back" href="../../modules/str2d.html#str2d.str2d.Str2D.box_sgl">[docs]</a>    <span class="k">def</span> <span class="nf">box_sgl</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Convenience method to perform what can be done with Str2D.box</span>

<span class="sd">        :return: Str2D</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... s = Str2D(&#39;a&#39;)</span>
<span class="sd">        ... s.box_sgl()</span>
<span class="sd">        ┌─┐</span>
<span class="sd">        │a│</span>
<span class="sd">        └─┘</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">box</span><span class="p">(</span><span class="s1">&#39;─&#39;</span><span class="p">,</span> <span class="s1">&#39;│&#39;</span><span class="p">,</span> <span class="s1">&#39;┌&#39;</span><span class="p">,</span> <span class="s1">&#39;┐&#39;</span><span class="p">,</span> <span class="s1">&#39;└&#39;</span><span class="p">,</span> <span class="s1">&#39;┘&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Str2D.fill"><a class="viewcode-back" href="../../modules/str2d.html#str2d.str2d.Str2D.fill">[docs]</a>    <span class="k">def</span> <span class="nf">fill</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">char</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Fills entire space of calling object with passed character.</span>

<span class="sd">        :param char: Character to fill with</span>
<span class="sd">        :return: Str2D</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... s = Str2D(&#39;abcde\\nfghij\\nklmno\\npqrst\\nuvwxy&#39;)</span>
<span class="sd">        ... s + &#39;|&#39; + s.fill(&#39;.&#39;)</span>
<span class="sd">        abcde|.....</span>
<span class="sd">        fghij|.....</span>
<span class="sd">        klmno|.....</span>
<span class="sd">        pqrst|.....</span>
<span class="sd">        uvwxy|.....</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span>
            <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">char</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">]</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">),</span>
            <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">_kwargs</span>
        <span class="p">)</span></div>

<span class="c1">################################################################################</span>
<span class="c1"># String analogs</span>
<span class="c1">################################################################################</span>

<div class="viewcode-block" id="Str2D.strip2d"><a class="viewcode-back" href="../../modules/str2d.html#str2d.str2d.Str2D.strip2d">[docs]</a>    <span class="k">def</span> <span class="nf">strip2d</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Perform something similar to `str.strip` but apply it on the top and</span>
<span class="sd">        bottom of Str2D as well as left and right.  It will readjust to respect</span>
<span class="sd">        alignment and fill preferences.</span>

<span class="sd">        :param args: arguments passed to `str.strip`</span>
<span class="sd">        :return: Str2D</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... s = Str2D(&#39;     \\nfghi \\n lmno\\n &#39;)</span>
<span class="sd">        ... s.strip2d()</span>
<span class="sd">        fghi</span>
<span class="sd">        lmno</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span>
            <span class="bp">self</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">),</span>
            <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">_kwargs</span>
        <span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="Str2D.strip"><a class="viewcode-back" href="../../modules/str2d.html#str2d.str2d.Str2D.strip">[docs]</a>    <span class="k">def</span> <span class="nf">strip</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Apply `str.strip` to each row.</span>

<span class="sd">        :param args: arguments passed to `str.strip`</span>
<span class="sd">        :return: Str2D</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... s = Str2D(&#39;fghi   \\n   lmno&#39;)</span>
<span class="sd">        ... s.strip()</span>
<span class="sd">        fghi</span>
<span class="sd">        lmno</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="nf">_strip</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">s</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="nb">map</span><span class="p">(</span><span class="n">_strip</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="p">),</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">_kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="Str2D.replace"><a class="viewcode-back" href="../../modules/str2d.html#str2d.str2d.Str2D.replace">[docs]</a>    <span class="k">def</span> <span class="nf">replace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Apply `str.replace` to each row.</span>

<span class="sd">        :param args: arguments passed to `str.replace`</span>
<span class="sd">        :param kwargs: arguments passed to `str.replace`</span>
<span class="sd">        :return: Str2D</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... s = Str2D(&#39;1-2-3-4\\n5-6-7-8&#39;)</span>
<span class="sd">        ... s.replace(&#39;-&#39;, &#39;*&#39;)</span>
<span class="sd">        1*2*3*4</span>
<span class="sd">        5*6*7*8</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="nf">_replace</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">s</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="nb">map</span><span class="p">(</span><span class="n">_replace</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="p">),</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">_kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="Str2D.lower"><a class="viewcode-back" href="../../modules/str2d.html#str2d.str2d.Str2D.lower">[docs]</a>    <span class="k">def</span> <span class="nf">lower</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Apply `str.lower` to each row.</span>

<span class="sd">        :param args: arguments passed to `str.lower`</span>
<span class="sd">        :param kwargs: arguments passed to `str.lower`</span>
<span class="sd">        :return: Str2D</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... s = Str2D(&#39;ABC\\n1D3&#39;)</span>
<span class="sd">        ... s.lower()</span>
<span class="sd">        abc</span>
<span class="sd">        1d3</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="nf">_lower</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">s</span><span class="o">.</span><span class="n">lower</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="nb">map</span><span class="p">(</span><span class="n">_lower</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="p">),</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">_kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="Str2D.upper"><a class="viewcode-back" href="../../modules/str2d.html#str2d.str2d.Str2D.upper">[docs]</a>    <span class="k">def</span> <span class="nf">upper</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Apply `str.upper` to each row.</span>

<span class="sd">        :param args: arguments passed to `str.upper`</span>
<span class="sd">        :param kwargs: arguments passed to `str.upper`</span>
<span class="sd">        :return: Str2D</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... s = Str2D(&#39;abc\\n1d3&#39;)</span>
<span class="sd">        ... s.upper()</span>
<span class="sd">        ABC</span>
<span class="sd">        1D3</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="nf">_upper</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">s</span><span class="o">.</span><span class="n">upper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="nb">map</span><span class="p">(</span><span class="n">_upper</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="p">),</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">_kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="Str2D.title"><a class="viewcode-back" href="../../modules/str2d.html#str2d.str2d.Str2D.title">[docs]</a>    <span class="k">def</span> <span class="nf">title</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Apply `str.title` to each row.</span>

<span class="sd">        :param args: arguments passed to `str.title`</span>
<span class="sd">        :param kwargs: arguments passed to `str.title`</span>
<span class="sd">        :return: Str2D</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... s = Str2D(&#39;abc\\n1d3&#39;)</span>
<span class="sd">        ... s.title()</span>
<span class="sd">        Abc</span>
<span class="sd">        1D3</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="nf">_title</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">s</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="nb">map</span><span class="p">(</span><span class="n">_title</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="p">),</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">_kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="Str2D.count"><a class="viewcode-back" href="../../modules/str2d.html#str2d.str2d.Str2D.count">[docs]</a>    <span class="k">def</span> <span class="nf">count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Apply `str.count` to each row.</span>

<span class="sd">        :param args: arguments passed to `str.count`</span>
<span class="sd">        :param kwargs: arguments passed to `str.count`</span>
<span class="sd">        :return: int</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... s = Str2D(&#39;a-b-c-d\\n1-2-3-4&#39;)</span>
<span class="sd">        ... s.count(&#39;-&#39;)</span>
<span class="sd">        6</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="nf">_count</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">s</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">_count</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="p">))</span></div>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_join</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">char</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">others</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">,</span> <span class="n">axis</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Will join Str2D objects either horizontally or vertically.</span>

<span class="sd">        :param char: Character that will be used to join with.</span>
<span class="sd">        :param others: Collection of objects that will be joined</span>
<span class="sd">        :param axis: Either 0 or 1 representing rows or columns respectively.</span>
<span class="sd">        :return: Str2D</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        &gt;&gt;&gt; s = Str2D(&#39;ab\\ncd&#39;)</span>
<span class="sd">        ... Str2D._join(&#39; | &#39;, [s] * 3)</span>
<span class="sd">        ab | ab | ab</span>
<span class="sd">        cd | cd | cd</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        &gt;&gt;&gt; s = Str2D(&#39;ab\\ncd&#39;)</span>
<span class="sd">        ... Str2D._join(&#39;-&#39;, [s] * 3, axis=0)</span>
<span class="sd">        ab</span>
<span class="sd">        cd</span>
<span class="sd">        --</span>
<span class="sd">        ab</span>
<span class="sd">        cd</span>
<span class="sd">        --</span>
<span class="sd">        ab</span>
<span class="sd">        cd</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">is_border_char</span> <span class="o">=</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">char</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">char</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="n">others</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">others</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">axis</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">is_border_char</span><span class="p">:</span>
                <span class="n">j</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">others</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="n">s</span><span class="o">.</span><span class="n">height</span><span class="p">)</span><span class="o">.</span><span class="n">border_left</span><span class="p">(</span><span class="n">char</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">j</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="n">char</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">l</span><span class="p">,</span> <span class="n">r</span><span class="p">:</span> <span class="n">l</span> <span class="o">+</span> <span class="n">j</span> <span class="o">+</span> <span class="n">r</span><span class="p">,</span> <span class="n">others</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">axis</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">is_border_char</span><span class="p">:</span>
                <span class="n">j</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">others</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="n">s</span><span class="o">.</span><span class="n">width</span><span class="p">)</span><span class="o">.</span><span class="n">border_top</span><span class="p">(</span><span class="n">char</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">j</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="n">char</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">l</span><span class="p">,</span> <span class="n">r</span><span class="p">:</span> <span class="n">l</span> <span class="o">/</span> <span class="n">j</span> <span class="o">/</span> <span class="n">r</span><span class="p">,</span> <span class="n">others</span><span class="p">)</span>

<div class="viewcode-block" id="Str2D.equal_width"><a class="viewcode-back" href="../../modules/str2d.html#str2d.str2d.Str2D.equal_width">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">equal_width</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">others</span><span class="p">:</span> <span class="nb">list</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Helps to normalize across multiple Str2D objects to be the same</span>
<span class="sd">        width</span>

<span class="sd">        :param others: list of objects to for which to determine width</span>
<span class="sd">        :return: list</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        &gt;&gt;&gt; s1 = Str2D(&#39;a&#39;, hfill=&#39;*&#39;)</span>
<span class="sd">        &gt;&gt;&gt; s2 = Str2D(&#39;bbbbb&#39;)</span>
<span class="sd">        &gt;&gt;&gt; s1, s2 = Str2D.equal_width([s1, s2])</span>
<span class="sd">        &gt;&gt;&gt; s1 / s2</span>
<span class="sd">        a****</span>
<span class="sd">        bbbbb</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">others</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">others</span><span class="p">)</span>
        <span class="n">width</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="n">s</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">others</span><span class="p">))</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">cls</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">s</span><span class="p">,</span> <span class="o">**</span><span class="p">{</span><span class="o">**</span><span class="n">s</span><span class="o">.</span><span class="n">_kwargs</span><span class="p">,</span> <span class="o">**</span><span class="p">{</span><span class="s1">&#39;min_width&#39;</span><span class="p">:</span> <span class="n">width</span><span class="p">}})</span>
                <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">others</span><span class="p">]</span></div>

<div class="viewcode-block" id="Str2D.sum"><a class="viewcode-back" href="../../modules/str2d.html#str2d.str2d.Str2D.sum">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">sum</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">others</span><span class="p">:</span> <span class="nb">list</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Iteratively adds all items in the list together</span>

<span class="sd">        :param others: list of objects to be added together</span>
<span class="sd">        :return: Str2D</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        &gt;&gt;&gt; s = Str2D(&#39;a&#39;)</span>
<span class="sd">        &gt;&gt;&gt; Str2D.sum([s] * 10)</span>
<span class="sd">        aaaaaaaaaa</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
        <span class="k">return</span> <span class="n">reduce</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">others</span><span class="p">)</span></div>

<div class="viewcode-block" id="Str2D.hjoin"><a class="viewcode-back" href="../../modules/str2d.html#str2d.str2d.Str2D.hjoin">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">hjoin</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">char</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">others</span><span class="p">:</span> <span class="nb">list</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Join others horizontally</span>

<span class="sd">        :param char: Character to join on</span>
<span class="sd">        :param others: list of objects to join</span>
<span class="sd">        :return: Str2D</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        &gt;&gt;&gt; s = Str2D(&#39;a&#39;)</span>
<span class="sd">        &gt;&gt;&gt; Str2D.hjoin(&#39;-&#39;, [s] * 10)</span>
<span class="sd">        a-a-a-a-a-a-a-a-a-a</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_join</span><span class="p">(</span><span class="n">char</span><span class="p">,</span> <span class="n">others</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span></div>

<div class="viewcode-block" id="Str2D.vjoin"><a class="viewcode-back" href="../../modules/str2d.html#str2d.str2d.Str2D.vjoin">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">vjoin</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">char</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">others</span><span class="p">:</span> <span class="nb">list</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Joint others vertically</span>

<span class="sd">        :param char: Character to join on</span>
<span class="sd">        :param others: list of objects to join</span>
<span class="sd">        :return: Str2D</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        &gt;&gt;&gt; s = Str2D(&#39;abc&#39;)</span>
<span class="sd">        &gt;&gt;&gt; Str2D.vjoin(&#39;-&#39;, [s] * 3)</span>
<span class="sd">        abc</span>
<span class="sd">        ---</span>
<span class="sd">        abc</span>
<span class="sd">        ---</span>
<span class="sd">        abc</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_join</span><span class="p">(</span><span class="n">char</span><span class="p">,</span> <span class="n">others</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span></div>

<div class="viewcode-block" id="Str2D.join"><a class="viewcode-back" href="../../modules/str2d.html#str2d.str2d.Str2D.join">[docs]</a>    <span class="k">def</span> <span class="nf">join</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">others</span><span class="p">:</span> <span class="nb">list</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Join others horizontally separated with `self`</span>

<span class="sd">        :param others: list of objects to join</span>
<span class="sd">        :return: Str2D</span>

<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        &gt;&gt;&gt; s = Str2D(&#39;a\\nb\\nc&#39;)</span>
<span class="sd">        &gt;&gt;&gt; s.join([(s * 2).fill(&#39;#&#39;)] * 4)</span>
<span class="sd">        ##a##a##a##</span>
<span class="sd">        ##b##b##b##</span>
<span class="sd">        ##c##c##c##</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">hjoin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">others</span><span class="p">)</span></div>

<span class="c1">################################################################################</span>
<span class="c1"># Masking</span>
<span class="c1">################################################################################</span>

<div class="viewcode-block" id="Str2D.mask"><a class="viewcode-back" href="../../modules/str2d.html#str2d.str2d.Str2D.mask">[docs]</a>    <span class="k">def</span> <span class="nf">mask</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msk</span><span class="p">:</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">,</span>
             <span class="n">char</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="n">replace</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Use another Str2D object to mask.</span>

<span class="sd">        :param msk: Str2D object that will act as mask</span>
<span class="sd">        :param char: Character to look for</span>
<span class="sd">        :param replace: What to replace found character with</span>
<span class="sd">        :return: Str2D</span>
<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... _tree_ = (</span>
<span class="sd">        ...     &#39;                  &#39;,</span>
<span class="sd">        ...     &#39;         ^        &#39;,</span>
<span class="sd">        ...     &#39;        /#\\       &#39;,</span>
<span class="sd">        ...     &#39;       /###\\      &#39;,</span>
<span class="sd">        ...     &#39;      /#####\\     &#39;,</span>
<span class="sd">        ...     &#39;     /#######\\    &#39;,</span>
<span class="sd">        ...     &#39;    /#########\\   &#39;,</span>
<span class="sd">        ...     &#39;   /###########\\  &#39;,</span>
<span class="sd">        ...     &#39;     #########    &#39;,</span>
<span class="sd">        ...     &#39;                  &#39;</span>
<span class="sd">        ... )</span>
<span class="sd">        ... t = Str2D(_tree_)</span>
<span class="sd">        ... t.fill(&#39;*&#39;).mask(t)</span>
<span class="sd">        ******************</span>
<span class="sd">        ********* ********</span>
<span class="sd">        ********   *******</span>
<span class="sd">        *******     ******</span>
<span class="sd">        ******       *****</span>
<span class="sd">        *****         ****</span>
<span class="sd">        ****           ***</span>
<span class="sd">        ***             **</span>
<span class="sd">        *****         ****</span>
<span class="sd">        ******************</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">msk</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">asstr2d</span><span class="p">(</span><span class="n">msk</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">msk</span><span class="o">.</span><span class="n">shape</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">shape</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;shape of msk </span><span class="si">{msk.shape}</span><span class="s1"> != </span><span class="si">{self.shape}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="n">s</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">mask</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="p">),</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">msk</span><span class="o">.</span><span class="n">s</span><span class="p">),</span> <span class="n">char</span><span class="p">,</span> <span class="n">replace</span><span class="p">)</span>
        <span class="n">i</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">chunk</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="n">i</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">_kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="Str2D.layer"><a class="viewcode-back" href="../../modules/str2d.html#str2d.str2d.Str2D.layer">[docs]</a>    <span class="k">def</span> <span class="nf">layer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msk</span><span class="p">:</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">,</span> <span class="n">char</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Str2D&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Instead of masking, we can stack objects.</span>

<span class="sd">        :param msk: Str2D object that will act as mask</span>
<span class="sd">        :param char: Character to look for</span>
<span class="sd">        :return: Str2D</span>
<span class="sd">        &gt;&gt;&gt; from str2d import Str2D</span>
<span class="sd">        ... _tree_ = (</span>
<span class="sd">        ...     &#39;                  &#39;,</span>
<span class="sd">        ...     &#39;         ^        &#39;,</span>
<span class="sd">        ...     &#39;        /#\\       &#39;,</span>
<span class="sd">        ...     &#39;       /###\\      &#39;,</span>
<span class="sd">        ...     &#39;      /#####\\     &#39;,</span>
<span class="sd">        ...     &#39;     /#######\\    &#39;,</span>
<span class="sd">        ...     &#39;    /#########\\   &#39;,</span>
<span class="sd">        ...     &#39;   /###########\\  &#39;,</span>
<span class="sd">        ...     &#39;     #########    &#39;,</span>
<span class="sd">        ...     &#39;                  &#39;</span>
<span class="sd">        ... )</span>
<span class="sd">        ... t = Str2D(_tree_)</span>
<span class="sd">        ... t.fill(&#39;+&#39;).layer(t)</span>
<span class="sd">        ++++++++++++++++++</span>
<span class="sd">        +++++++++^++++++++</span>
<span class="sd">        ++++++++/#\\+++++++</span>
<span class="sd">        +++++++/###\\++++++</span>
<span class="sd">        ++++++/#####\\+++++</span>
<span class="sd">        +++++/#######\\++++</span>
<span class="sd">        ++++/#########\\+++</span>
<span class="sd">        +++/###########\\++</span>
<span class="sd">        +++++#########++++</span>
<span class="sd">        ++++++++++++++++++</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">msk</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">asstr2d</span><span class="p">(</span><span class="n">msk</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">msk</span><span class="o">.</span><span class="n">shape</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">shape</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;shape of msk </span><span class="si">{msk.shape}</span><span class="s1"> != </span><span class="si">{self.shape}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="n">s</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">mask</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="p">),</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">msk</span><span class="o">.</span><span class="n">s</span><span class="p">),</span> <span class="n">char</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">i</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">chunk</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="n">i</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">_kwargs</span><span class="p">)</span></div></div>
</pre></div>

      </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        <a class="uplink" href="../../index.html">Contents</a>
        </p>

      </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, Sean Smith.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.3.
    </div>
  </body>
</html>